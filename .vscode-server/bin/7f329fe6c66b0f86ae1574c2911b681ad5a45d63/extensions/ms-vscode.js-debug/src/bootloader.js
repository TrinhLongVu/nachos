"use strict";(()=>{var $s=Object.create;var or=Object.defineProperty;var js=Object.getOwnPropertyDescriptor;var Us=Object.getOwnPropertyNames;var qs=Object.getPrototypeOf,Gs=Object.prototype.hasOwnProperty;var D=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var V=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Vs=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Us(t))!Gs.call(e,s)&&s!==r&&or(e,s,{get:()=>t[s],enumerable:!(n=js(t,s))||n.enumerable});return e};var le=(e,t,r)=>(r=e!=null?$s(qs(e)):{},Vs(t||!e||!e.__esModule?or(r,"default",{value:e,enumerable:!0}):r,e));var Je=V(oe=>{"use strict";oe.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;oe.find=(e,t)=>e.nodes.find(r=>r.type===t);oe.exceedsLimit=(e,t,r=1,n)=>n===!1||!oe.isInteger(e)||!oe.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;oe.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};oe.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);oe.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;oe.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;oe.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);oe.flatten=(...e)=>{let t=[],r=n=>{for(let s=0;s<n.length;s++){let o=n[s];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var et=V((au,ar)=>{"use strict";var ir=Je();ar.exports=(e,t={})=>{let r=(n,s={})=>{let o=t.escapeInvalid&&ir.isInvalidBrace(s),i=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(o||i)&&ir.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let l of n.nodes)a+=r(l);return a};return r(e)}});var lr=V((uu,ur)=>{"use strict";ur.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var yr=V((lu,_r)=>{"use strict";var cr=lr(),Ee=(e,t,r)=>{if(cr(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(cr(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),o=String(n.shorthand),i=String(n.capture),a=String(n.wrap),l=e+":"+t+"="+s+o+i+a;if(Ee.cache.hasOwnProperty(l))return Ee.cache[l].result;let f=Math.min(e,t),c=Math.max(e,t);if(Math.abs(f-c)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let d=mr(e)||mr(t),m={min:e,max:t,a:f,b:c},P=[],S=[];if(d&&(m.isPadded=d,m.maxLen=String(m.max).length),f<0){let g=c<0?Math.abs(c):1;S=fr(g,Math.abs(f),m,n),f=m.a=0}return c>=0&&(P=fr(f,c,m,n)),m.negatives=S,m.positives=P,m.result=Ws(S,P,n),n.capture===!0?m.result=`(${m.result})`:n.wrap!==!1&&P.length+S.length>1&&(m.result=`(?:${m.result})`),Ee.cache[l]=m,m.result};function Ws(e,t,r){let n=xt(e,t,"-",!1,r)||[],s=xt(t,e,"",!1,r)||[],o=xt(e,t,"-?",!0,r)||[];return n.concat(o).concat(s).join("|")}function Ks(e,t){let r=1,n=1,s=dr(e,r),o=new Set([t]);for(;e<=s&&s<=t;)o.add(s),r+=1,s=dr(e,r);for(s=hr(t+1,n)-1;e<s&&s<=t;)o.add(s),n+=1,s=hr(t+1,n)-1;return o=[...o],o.sort(Xs),o}function zs(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=Qs(e,t),s=n.length,o="",i=0;for(let a=0;a<s;a++){let[l,f]=n[a];l===f?o+=l:l!=="0"||f!=="9"?o+=Ys(l,f,r):i++}return i&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[i],digits:s}}function fr(e,t,r,n){let s=Ks(e,t),o=[],i=e,a;for(let l=0;l<s.length;l++){let f=s[l],c=zs(String(i),String(f),n),d="";if(!r.isPadded&&a&&a.pattern===c.pattern){a.count.length>1&&a.count.pop(),a.count.push(c.count[0]),a.string=a.pattern+gr(a.count),i=f+1;continue}r.isPadded&&(d=Zs(f,r,n)),c.string=d+c.pattern+gr(c.count),o.push(c),i=f+1,a=c}return o}function xt(e,t,r,n,s){let o=[];for(let i of e){let{string:a}=i;!n&&!pr(t,"string",a)&&o.push(r+a),n&&pr(t,"string",a)&&o.push(r+a)}return o}function Qs(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function Xs(e,t){return e>t?1:t>e?-1:0}function pr(e,t,r){return e.some(n=>n[t]===r)}function dr(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function hr(e,t){return e-e%Math.pow(10,t)}function gr(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Ys(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function mr(e){return/^-?(0+)\d/.test(e)}function Zs(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}Ee.cache={};Ee.clearCache=()=>Ee.cache={};_r.exports=Ee});var St=V((cu,Rr)=>{"use strict";var Js=D("util"),vr=yr(),xr=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),eo=e=>t=>e===!0?Number(t):String(t),bt=e=>typeof e=="number"||typeof e=="string"&&e!=="",Me=e=>Number.isInteger(+e),vt=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},to=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,ro=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},br=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},no=(e,t)=>{e.negatives.sort((i,a)=>i<a?-1:i>a?1:0),e.positives.sort((i,a)=>i<a?-1:i>a?1:0);let r=t.capture?"":"?:",n="",s="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.join("|")})`),n&&s?o=`${n}|${s}`:o=n||s,t.wrap?`(${r}${o})`:o},Sr=(e,t,r,n)=>{if(r)return vr(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===t)return s;let o=String.fromCharCode(t);return`[${s}-${o}]`},Er=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${e.join("|")})`:e.join("|")}return vr(e,t,r)},Tr=(...e)=>new RangeError("Invalid range arguments: "+Js.inspect(...e)),Cr=(e,t,r)=>{if(r.strictRanges===!0)throw Tr([e,t]);return[]},so=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},oo=(e,t,r=1,n={})=>{let s=Number(e),o=Number(t);if(!Number.isInteger(s)||!Number.isInteger(o)){if(n.strictRanges===!0)throw Tr([e,t]);return[]}s===0&&(s=0),o===0&&(o=0);let i=s>o,a=String(e),l=String(t),f=String(r);r=Math.max(Math.abs(r),1);let c=vt(a)||vt(l)||vt(f),d=c?Math.max(a.length,l.length,f.length):0,m=c===!1&&to(e,t,n)===!1,P=n.transform||eo(m);if(n.toRegex&&r===1)return Sr(br(e,d),br(t,d),!0,n);let S={negatives:[],positives:[]},g=L=>S[L<0?"negatives":"positives"].push(Math.abs(L)),E=[],w=0;for(;i?s>=o:s<=o;)n.toRegex===!0&&r>1?g(s):E.push(ro(P(s,w),d,m)),s=i?s-r:s+r,w++;return n.toRegex===!0?r>1?no(S,n):Er(E,null,{wrap:!1,...n}):E},io=(e,t,r=1,n={})=>{if(!Me(e)&&e.length>1||!Me(t)&&t.length>1)return Cr(e,t,n);let s=n.transform||(m=>String.fromCharCode(m)),o=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),a=o>i,l=Math.min(o,i),f=Math.max(o,i);if(n.toRegex&&r===1)return Sr(l,f,!1,n);let c=[],d=0;for(;a?o>=i:o<=i;)c.push(s(o,d)),o=a?o-r:o+r,d++;return n.toRegex===!0?Er(c,null,{wrap:!1,options:n}):c},tt=(e,t,r,n={})=>{if(t==null&&bt(e))return[e];if(!bt(e)||!bt(t))return Cr(e,t,n);if(typeof r=="function")return tt(e,t,1,{transform:r});if(xr(r))return tt(e,t,0,r);let s={...n};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,Me(r)?Me(e)&&Me(t)?oo(e,t,r,s):io(e,t,Math.max(Math.abs(r),1),s):r!=null&&!xr(r)?so(r,s):tt(e,t,1,r)};Rr.exports=tt});var Or=V((fu,wr)=>{"use strict";var ao=St(),Ar=Je(),uo=(e,t={})=>{let r=(n,s={})=>{let o=Ar.isInvalidBrace(s),i=n.invalid===!0&&t.escapeInvalid===!0,a=o===!0||i===!0,l=t.escapeInvalid===!0?"\\":"",f="";if(n.isOpen===!0||n.isClose===!0)return l+n.value;if(n.type==="open")return a?l+n.value:"(";if(n.type==="close")return a?l+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let c=Ar.reduce(n.nodes),d=ao(...c,{...t,wrap:!1,toRegex:!0});if(d.length!==0)return c.length>1&&d.length>1?`(${d})`:d}if(n.nodes)for(let c of n.nodes)f+=r(c,n);return f};return r(e)};wr.exports=uo});var Ir=V((pu,Pr)=>{"use strict";var lo=St(),kr=et(),Oe=Je(),Te=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Oe.flatten(t).map(s=>`{${s}}`):t;for(let s of e)if(Array.isArray(s))for(let o of s)n.push(Te(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Te(s,o,r):s+o);return Oe.flatten(n)},co=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(s,o={})=>{s.queue=[];let i=o,a=o.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,a=i.queue;if(s.invalid||s.dollar){a.push(Te(a.pop(),kr(s,t)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){a.push(Te(a.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let d=Oe.reduce(s.nodes);if(Oe.exceedsLimit(...d,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let m=lo(...d,t);m.length===0&&(m=kr(s,t)),a.push(Te(a.pop(),m)),s.nodes=[];return}let l=Oe.encloseBrace(s),f=s.queue,c=s;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,f=c.queue;for(let d=0;d<s.nodes.length;d++){let m=s.nodes[d];if(m.type==="comma"&&s.type==="brace"){d===1&&f.push(""),f.push("");continue}if(m.type==="close"){a.push(Te(a.pop(),f,l));continue}if(m.value&&m.type!=="open"){f.push(Te(f.pop(),m.value));continue}m.nodes&&n(m,s)}return f};return Oe.flatten(n(e))};Pr.exports=co});var Lr=V((du,Nr)=>{"use strict";Nr.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Hr=V((hu,Fr)=>{"use strict";var fo=et(),{MAX_LENGTH:Dr,CHAR_BACKSLASH:Et,CHAR_BACKTICK:po,CHAR_COMMA:ho,CHAR_DOT:go,CHAR_LEFT_PARENTHESES:mo,CHAR_RIGHT_PARENTHESES:_o,CHAR_LEFT_CURLY_BRACE:yo,CHAR_RIGHT_CURLY_BRACE:xo,CHAR_LEFT_SQUARE_BRACKET:Br,CHAR_RIGHT_SQUARE_BRACKET:Mr,CHAR_DOUBLE_QUOTE:bo,CHAR_SINGLE_QUOTE:vo,CHAR_NO_BREAK_SPACE:So,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Eo}=Lr(),To=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Dr,r.maxLength):Dr;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let s={type:"root",input:e,nodes:[]},o=[s],i=s,a=s,l=0,f=e.length,c=0,d=0,m,P={},S=()=>e[c++],g=E=>{if(E.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&E.type==="text"){a.value+=E.value;return}return i.nodes.push(E),E.parent=i,E.prev=a,a=E,E};for(g({type:"bos"});c<f;)if(i=o[o.length-1],m=S(),!(m===Eo||m===So)){if(m===Et){g({type:"text",value:(t.keepEscaping?m:"")+S()});continue}if(m===Mr){g({type:"text",value:"\\"+m});continue}if(m===Br){l++;let E=!0,w;for(;c<f&&(w=S());){if(m+=w,w===Br){l++;continue}if(w===Et){m+=S();continue}if(w===Mr&&(l--,l===0))break}g({type:"text",value:m});continue}if(m===mo){i=g({type:"paren",nodes:[]}),o.push(i),g({type:"text",value:m});continue}if(m===_o){if(i.type!=="paren"){g({type:"text",value:m});continue}i=o.pop(),g({type:"text",value:m}),i=o[o.length-1];continue}if(m===bo||m===vo||m===po){let E=m,w;for(t.keepQuotes!==!0&&(m="");c<f&&(w=S());){if(w===Et){m+=w+S();continue}if(w===E){t.keepQuotes===!0&&(m+=w);break}m+=w}g({type:"text",value:m});continue}if(m===yo){d++;let w={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||i.dollar===!0,depth:d,commas:0,ranges:0,nodes:[]};i=g(w),o.push(i),g({type:"open",value:m});continue}if(m===xo){if(i.type!=="brace"){g({type:"text",value:m});continue}let E="close";i=o.pop(),i.close=!0,g({type:E,value:m}),d--,i=o[o.length-1];continue}if(m===ho&&d>0){if(i.ranges>0){i.ranges=0;let E=i.nodes.shift();i.nodes=[E,{type:"text",value:fo(i)}]}g({type:"comma",value:m}),i.commas++;continue}if(m===go&&d>0&&i.commas===0){let E=i.nodes;if(d===0||E.length===0){g({type:"text",value:m});continue}if(a.type==="dot"){if(i.range=[],a.value+=m,a.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,a.type="text";continue}i.ranges++,i.args=[];continue}if(a.type==="range"){E.pop();let w=E[E.length-1];w.value+=a.value+m,a=w,i.ranges--;continue}g({type:"dot",value:m});continue}g({type:"text",value:m})}do if(i=o.pop(),i.type!=="root"){i.nodes.forEach(L=>{L.nodes||(L.type==="open"&&(L.isOpen=!0),L.type==="close"&&(L.isClose=!0),L.nodes||(L.type="text"),L.invalid=!0)});let E=o[o.length-1],w=E.nodes.indexOf(i);E.nodes.splice(w,1,...i.nodes)}while(o.length>0);return g({type:"eos"}),s};Fr.exports=To});var Ur=V((gu,jr)=>{"use strict";var $r=et(),Co=Or(),Ro=Ir(),Ao=Hr(),ne=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let s=ne.create(n,t);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(ne.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};ne.parse=(e,t={})=>Ao(e,t);ne.stringify=(e,t={})=>$r(typeof e=="string"?ne.parse(e,t):e,t);ne.compile=(e,t={})=>(typeof e=="string"&&(e=ne.parse(e,t)),Co(e,t));ne.expand=(e,t={})=>{typeof e=="string"&&(e=ne.parse(e,t));let r=Ro(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};ne.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?ne.compile(e,t):ne.expand(e,t);jr.exports=ne});var Fe=V((mu,Kr)=>{"use strict";var wo=D("path"),fe="\\\\/",qr=`[^${fe}]`,me="\\.",Oo="\\+",ko="\\?",rt="\\/",Po="(?=.)",Gr="[^/]",Tt=`(?:${rt}|$)`,Vr=`(?:^|${rt})`,Ct=`${me}{1,2}${Tt}`,Io=`(?!${me})`,No=`(?!${Vr}${Ct})`,Lo=`(?!${me}{0,1}${Tt})`,Do=`(?!${Ct})`,Bo=`[^.${rt}]`,Mo=`${Gr}*?`,Wr={DOT_LITERAL:me,PLUS_LITERAL:Oo,QMARK_LITERAL:ko,SLASH_LITERAL:rt,ONE_CHAR:Po,QMARK:Gr,END_ANCHOR:Tt,DOTS_SLASH:Ct,NO_DOT:Io,NO_DOTS:No,NO_DOT_SLASH:Lo,NO_DOTS_SLASH:Do,QMARK_NO_DOT:Bo,STAR:Mo,START_ANCHOR:Vr},Fo={...Wr,SLASH_LITERAL:`[${fe}]`,QMARK:qr,STAR:`${qr}*?`,DOTS_SLASH:`${me}{1,2}(?:[${fe}]|$)`,NO_DOT:`(?!${me})`,NO_DOTS:`(?!(?:^|[${fe}])${me}{1,2}(?:[${fe}]|$))`,NO_DOT_SLASH:`(?!${me}{0,1}(?:[${fe}]|$))`,NO_DOTS_SLASH:`(?!${me}{1,2}(?:[${fe}]|$))`,QMARK_NO_DOT:`[^.${fe}]`,START_ANCHOR:`(?:^|[${fe}])`,END_ANCHOR:`(?:[${fe}]|$)`},Ho={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Kr.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Ho,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:wo.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Fo:Wr}}});var He=V(re=>{"use strict";var $o=D("path"),jo=process.platform==="win32",{REGEX_BACKSLASH:Uo,REGEX_REMOVE_BACKSLASH:qo,REGEX_SPECIAL_CHARS:Go,REGEX_SPECIAL_CHARS_GLOBAL:Vo}=Fe();re.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);re.hasRegexChars=e=>Go.test(e);re.isRegexChar=e=>e.length===1&&re.hasRegexChars(e);re.escapeRegex=e=>e.replace(Vo,"\\$1");re.toPosixSlashes=e=>e.replace(Uo,"/");re.removeBackslashes=e=>e.replace(qo,t=>t==="\\"?"":t);re.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};re.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:jo===!0||$o.sep==="\\";re.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?re.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};re.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};re.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",o=`${n}(?:${e})${s}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var tn=V((yu,en)=>{"use strict";var zr=He(),{CHAR_ASTERISK:Rt,CHAR_AT:Wo,CHAR_BACKWARD_SLASH:$e,CHAR_COMMA:Ko,CHAR_DOT:At,CHAR_EXCLAMATION_MARK:wt,CHAR_FORWARD_SLASH:Jr,CHAR_LEFT_CURLY_BRACE:Ot,CHAR_LEFT_PARENTHESES:kt,CHAR_LEFT_SQUARE_BRACKET:zo,CHAR_PLUS:Qo,CHAR_QUESTION_MARK:Qr,CHAR_RIGHT_CURLY_BRACE:Xo,CHAR_RIGHT_PARENTHESES:Xr,CHAR_RIGHT_SQUARE_BRACKET:Yo}=Fe(),Yr=e=>e===Jr||e===$e,Zr=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},Zo=(e,t)=>{let r=t||{},n=e.length-1,s=r.parts===!0||r.scanToEnd===!0,o=[],i=[],a=[],l=e,f=-1,c=0,d=0,m=!1,P=!1,S=!1,g=!1,E=!1,w=!1,L=!1,C=!1,T=!1,v=!1,I=0,N,x,y={value:"",depth:0,isGlob:!1},_=()=>f>=n,u=()=>l.charCodeAt(f+1),A=()=>(N=x,l.charCodeAt(++f));for(;f<n;){x=A();let q;if(x===$e){L=y.backslashes=!0,x=A(),x===Ot&&(w=!0);continue}if(w===!0||x===Ot){for(I++;_()!==!0&&(x=A());){if(x===$e){L=y.backslashes=!0,A();continue}if(x===Ot){I++;continue}if(w!==!0&&x===At&&(x=A())===At){if(m=y.isBrace=!0,S=y.isGlob=!0,v=!0,s===!0)continue;break}if(w!==!0&&x===Ko){if(m=y.isBrace=!0,S=y.isGlob=!0,v=!0,s===!0)continue;break}if(x===Xo&&(I--,I===0)){w=!1,m=y.isBrace=!0,v=!0;break}}if(s===!0)continue;break}if(x===Jr){if(o.push(f),i.push(y),y={value:"",depth:0,isGlob:!1},v===!0)continue;if(N===At&&f===c+1){c+=2;continue}d=f+1;continue}if(r.noext!==!0&&(x===Qo||x===Wo||x===Rt||x===Qr||x===wt)===!0&&u()===kt){if(S=y.isGlob=!0,g=y.isExtglob=!0,v=!0,x===wt&&f===c&&(T=!0),s===!0){for(;_()!==!0&&(x=A());){if(x===$e){L=y.backslashes=!0,x=A();continue}if(x===Xr){S=y.isGlob=!0,v=!0;break}}continue}break}if(x===Rt){if(N===Rt&&(E=y.isGlobstar=!0),S=y.isGlob=!0,v=!0,s===!0)continue;break}if(x===Qr){if(S=y.isGlob=!0,v=!0,s===!0)continue;break}if(x===zo){for(;_()!==!0&&(q=A());){if(q===$e){L=y.backslashes=!0,A();continue}if(q===Yo){P=y.isBracket=!0,S=y.isGlob=!0,v=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&x===wt&&f===c){C=y.negated=!0,c++;continue}if(r.noparen!==!0&&x===kt){if(S=y.isGlob=!0,s===!0){for(;_()!==!0&&(x=A());){if(x===kt){L=y.backslashes=!0,x=A();continue}if(x===Xr){v=!0;break}}continue}break}if(S===!0){if(v=!0,s===!0)continue;break}}r.noext===!0&&(g=!1,S=!1);let b=l,k="",p="";c>0&&(k=l.slice(0,c),l=l.slice(c),d-=c),b&&S===!0&&d>0?(b=l.slice(0,d),p=l.slice(d)):S===!0?(b="",p=l):b=l,b&&b!==""&&b!=="/"&&b!==l&&Yr(b.charCodeAt(b.length-1))&&(b=b.slice(0,-1)),r.unescape===!0&&(p&&(p=zr.removeBackslashes(p)),b&&L===!0&&(b=zr.removeBackslashes(b)));let h={prefix:k,input:e,start:c,base:b,glob:p,isBrace:m,isBracket:P,isGlob:S,isExtglob:g,isGlobstar:E,negated:C,negatedExtglob:T};if(r.tokens===!0&&(h.maxDepth=0,Yr(x)||i.push(y),h.tokens=i),r.parts===!0||r.tokens===!0){let q;for(let B=0;B<o.length;B++){let G=q?q+1:c,M=o[B],j=e.slice(G,M);r.tokens&&(B===0&&c!==0?(i[B].isPrefix=!0,i[B].value=k):i[B].value=j,Zr(i[B]),h.maxDepth+=i[B].depth),(B!==0||j!=="")&&a.push(j),q=M}if(q&&q+1<e.length){let B=e.slice(q+1);a.push(B),r.tokens&&(i[i.length-1].value=B,Zr(i[i.length-1]),h.maxDepth+=i[i.length-1].depth)}h.slashes=o,h.parts=a}return h};en.exports=Zo});var sn=V((xu,nn)=>{"use strict";var nt=Fe(),se=He(),{MAX_LENGTH:st,POSIX_REGEX_SOURCE:Jo,REGEX_NON_SPECIAL_CHARS:ei,REGEX_SPECIAL_CHARS_BACKREF:ti,REPLACEMENTS:rn}=nt,ri=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(s=>se.escapeRegex(s)).join("..")}return r},ke=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Pt=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=rn[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(st,r.maxLength):st,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},i=[o],a=r.capture?"":"?:",l=se.isWindows(t),f=nt.globChars(l),c=nt.extglobChars(f),{DOT_LITERAL:d,PLUS_LITERAL:m,SLASH_LITERAL:P,ONE_CHAR:S,DOTS_SLASH:g,NO_DOT:E,NO_DOT_SLASH:w,NO_DOTS_SLASH:L,QMARK:C,QMARK_NO_DOT:T,STAR:v,START_ANCHOR:I}=f,N=O=>`(${a}(?:(?!${I}${O.dot?g:d}).)*?)`,x=r.dot?"":E,y=r.dot?C:T,_=r.bash===!0?N(r):v;r.capture&&(_=`(${_})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let u={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=se.removePrefix(e,u),s=e.length;let A=[],b=[],k=[],p=o,h,q=()=>u.index===s-1,B=u.peek=(O=1)=>e[u.index+O],G=u.advance=()=>e[++u.index]||"",M=()=>e.slice(u.index+1),j=(O="",W=0)=>{u.consumed+=O,u.index+=W},U=O=>{u.output+=O.output!=null?O.output:O.value,j(O.value)},z=()=>{let O=1;for(;B()==="!"&&(B(2)!=="("||B(3)==="?");)G(),u.start++,O++;return O%2===0?!1:(u.negated=!0,u.start++,!0)},X=O=>{u[O]++,k.push(O)},ae=O=>{u[O]--,k.pop()},$=O=>{if(p.type==="globstar"){let W=u.braces>0&&(O.type==="comma"||O.type==="brace"),R=O.extglob===!0||A.length&&(O.type==="pipe"||O.type==="paren");O.type!=="slash"&&O.type!=="paren"&&!W&&!R&&(u.output=u.output.slice(0,-p.output.length),p.type="star",p.value="*",p.output=_,u.output+=p.output)}if(A.length&&O.type!=="paren"&&(A[A.length-1].inner+=O.value),(O.value||O.output)&&U(O),p&&p.type==="text"&&O.type==="text"){p.value+=O.value,p.output=(p.output||"")+O.value;return}O.prev=p,i.push(O),p=O},ue=(O,W)=>{let R={...c[W],conditions:1,inner:""};R.prev=p,R.parens=u.parens,R.output=u.output;let F=(r.capture?"(":"")+R.open;X("parens"),$({type:O,value:W,output:u.output?"":S}),$({type:"paren",extglob:!0,value:G(),output:F}),A.push(R)},we=O=>{let W=O.close+(r.capture?")":""),R;if(O.type==="negate"){let F=_;if(O.inner&&O.inner.length>1&&O.inner.includes("/")&&(F=N(r)),(F!==_||q()||/^\)+$/.test(M()))&&(W=O.close=`)$))${F}`),O.inner.includes("*")&&(R=M())&&/^\.[^\\/.]+$/.test(R)){let K=Pt(R,{...t,fastpaths:!1}).output;W=O.close=`)${K})${F})`}O.prev.type==="bos"&&(u.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:h,output:W}),ae("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let O=!1,W=e.replace(ti,(R,F,K,Z,J,yt)=>Z==="\\"?(O=!0,R):Z==="?"?F?F+Z+(J?C.repeat(J.length):""):yt===0?y+(J?C.repeat(J.length):""):C.repeat(K.length):Z==="."?d.repeat(K.length):Z==="*"?F?F+Z+(J?_:""):_:F?R:`\\${R}`);return O===!0&&(r.unescape===!0?W=W.replace(/\\/g,""):W=W.replace(/\\+/g,R=>R.length%2===0?"\\\\":R?"\\":"")),W===e&&r.contains===!0?(u.output=e,u):(u.output=se.wrapOutput(W,u,t),u)}for(;!q();){if(h=G(),h==="\0")continue;if(h==="\\"){let R=B();if(R==="/"&&r.bash!==!0||R==="."||R===";")continue;if(!R){h+="\\",$({type:"text",value:h});continue}let F=/^\\+/.exec(M()),K=0;if(F&&F[0].length>2&&(K=F[0].length,u.index+=K,K%2!==0&&(h+="\\")),r.unescape===!0?h=G():h+=G(),u.brackets===0){$({type:"text",value:h});continue}}if(u.brackets>0&&(h!=="]"||p.value==="["||p.value==="[^")){if(r.posix!==!1&&h===":"){let R=p.value.slice(1);if(R.includes("[")&&(p.posix=!0,R.includes(":"))){let F=p.value.lastIndexOf("["),K=p.value.slice(0,F),Z=p.value.slice(F+2),J=Jo[Z];if(J){p.value=K+J,u.backtrack=!0,G(),!o.output&&i.indexOf(p)===1&&(o.output=S);continue}}}(h==="["&&B()!==":"||h==="-"&&B()==="]")&&(h=`\\${h}`),h==="]"&&(p.value==="["||p.value==="[^")&&(h=`\\${h}`),r.posix===!0&&h==="!"&&p.value==="["&&(h="^"),p.value+=h,U({value:h});continue}if(u.quotes===1&&h!=='"'){h=se.escapeRegex(h),p.value+=h,U({value:h});continue}if(h==='"'){u.quotes=u.quotes===1?0:1,r.keepQuotes===!0&&$({type:"text",value:h});continue}if(h==="("){X("parens"),$({type:"paren",value:h});continue}if(h===")"){if(u.parens===0&&r.strictBrackets===!0)throw new SyntaxError(ke("opening","("));let R=A[A.length-1];if(R&&u.parens===R.parens+1){we(A.pop());continue}$({type:"paren",value:h,output:u.parens?")":"\\)"}),ae("parens");continue}if(h==="["){if(r.nobracket===!0||!M().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(ke("closing","]"));h=`\\${h}`}else X("brackets");$({type:"bracket",value:h});continue}if(h==="]"){if(r.nobracket===!0||p&&p.type==="bracket"&&p.value.length===1){$({type:"text",value:h,output:`\\${h}`});continue}if(u.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(ke("opening","["));$({type:"text",value:h,output:`\\${h}`});continue}ae("brackets");let R=p.value.slice(1);if(p.posix!==!0&&R[0]==="^"&&!R.includes("/")&&(h=`/${h}`),p.value+=h,U({value:h}),r.literalBrackets===!1||se.hasRegexChars(R))continue;let F=se.escapeRegex(p.value);if(u.output=u.output.slice(0,-p.value.length),r.literalBrackets===!0){u.output+=F,p.value=F;continue}p.value=`(${a}${F}|${p.value})`,u.output+=p.value;continue}if(h==="{"&&r.nobrace!==!0){X("braces");let R={type:"brace",value:h,output:"(",outputIndex:u.output.length,tokensIndex:u.tokens.length};b.push(R),$(R);continue}if(h==="}"){let R=b[b.length-1];if(r.nobrace===!0||!R){$({type:"text",value:h,output:h});continue}let F=")";if(R.dots===!0){let K=i.slice(),Z=[];for(let J=K.length-1;J>=0&&(i.pop(),K[J].type!=="brace");J--)K[J].type!=="dots"&&Z.unshift(K[J].value);F=ri(Z,r),u.backtrack=!0}if(R.comma!==!0&&R.dots!==!0){let K=u.output.slice(0,R.outputIndex),Z=u.tokens.slice(R.tokensIndex);R.value=R.output="\\{",h=F="\\}",u.output=K;for(let J of Z)u.output+=J.output||J.value}$({type:"brace",value:h,output:F}),ae("braces"),b.pop();continue}if(h==="|"){A.length>0&&A[A.length-1].conditions++,$({type:"text",value:h});continue}if(h===","){let R=h,F=b[b.length-1];F&&k[k.length-1]==="braces"&&(F.comma=!0,R="|"),$({type:"comma",value:h,output:R});continue}if(h==="/"){if(p.type==="dot"&&u.index===u.start+1){u.start=u.index+1,u.consumed="",u.output="",i.pop(),p=o;continue}$({type:"slash",value:h,output:P});continue}if(h==="."){if(u.braces>0&&p.type==="dot"){p.value==="."&&(p.output=d);let R=b[b.length-1];p.type="dots",p.output+=h,p.value+=h,R.dots=!0;continue}if(u.braces+u.parens===0&&p.type!=="bos"&&p.type!=="slash"){$({type:"text",value:h,output:d});continue}$({type:"dot",value:h,output:d});continue}if(h==="?"){if(!(p&&p.value==="(")&&r.noextglob!==!0&&B()==="("&&B(2)!=="?"){ue("qmark",h);continue}if(p&&p.type==="paren"){let F=B(),K=h;if(F==="<"&&!se.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(p.value==="("&&!/[!=<:]/.test(F)||F==="<"&&!/<([!=]|\w+>)/.test(M()))&&(K=`\\${h}`),$({type:"text",value:h,output:K});continue}if(r.dot!==!0&&(p.type==="slash"||p.type==="bos")){$({type:"qmark",value:h,output:T});continue}$({type:"qmark",value:h,output:C});continue}if(h==="!"){if(r.noextglob!==!0&&B()==="("&&(B(2)!=="?"||!/[!=<:]/.test(B(3)))){ue("negate",h);continue}if(r.nonegate!==!0&&u.index===0){z();continue}}if(h==="+"){if(r.noextglob!==!0&&B()==="("&&B(2)!=="?"){ue("plus",h);continue}if(p&&p.value==="("||r.regex===!1){$({type:"plus",value:h,output:m});continue}if(p&&(p.type==="bracket"||p.type==="paren"||p.type==="brace")||u.parens>0){$({type:"plus",value:h});continue}$({type:"plus",value:m});continue}if(h==="@"){if(r.noextglob!==!0&&B()==="("&&B(2)!=="?"){$({type:"at",extglob:!0,value:h,output:""});continue}$({type:"text",value:h});continue}if(h!=="*"){(h==="$"||h==="^")&&(h=`\\${h}`);let R=ei.exec(M());R&&(h+=R[0],u.index+=R[0].length),$({type:"text",value:h});continue}if(p&&(p.type==="globstar"||p.star===!0)){p.type="star",p.star=!0,p.value+=h,p.output=_,u.backtrack=!0,u.globstar=!0,j(h);continue}let O=M();if(r.noextglob!==!0&&/^\([^?]/.test(O)){ue("star",h);continue}if(p.type==="star"){if(r.noglobstar===!0){j(h);continue}let R=p.prev,F=R.prev,K=R.type==="slash"||R.type==="bos",Z=F&&(F.type==="star"||F.type==="globstar");if(r.bash===!0&&(!K||O[0]&&O[0]!=="/")){$({type:"star",value:h,output:""});continue}let J=u.braces>0&&(R.type==="comma"||R.type==="brace"),yt=A.length&&(R.type==="pipe"||R.type==="paren");if(!K&&R.type!=="paren"&&!J&&!yt){$({type:"star",value:h,output:""});continue}for(;O.slice(0,3)==="/**";){let Ze=e[u.index+4];if(Ze&&Ze!=="/")break;O=O.slice(3),j("/**",3)}if(R.type==="bos"&&q()){p.type="globstar",p.value+=h,p.output=N(r),u.output=p.output,u.globstar=!0,j(h);continue}if(R.type==="slash"&&R.prev.type!=="bos"&&!Z&&q()){u.output=u.output.slice(0,-(R.output+p.output).length),R.output=`(?:${R.output}`,p.type="globstar",p.output=N(r)+(r.strictSlashes?")":"|$)"),p.value+=h,u.globstar=!0,u.output+=R.output+p.output,j(h);continue}if(R.type==="slash"&&R.prev.type!=="bos"&&O[0]==="/"){let Ze=O[1]!==void 0?"|$":"";u.output=u.output.slice(0,-(R.output+p.output).length),R.output=`(?:${R.output}`,p.type="globstar",p.output=`${N(r)}${P}|${P}${Ze})`,p.value+=h,u.output+=R.output+p.output,u.globstar=!0,j(h+G()),$({type:"slash",value:"/",output:""});continue}if(R.type==="bos"&&O[0]==="/"){p.type="globstar",p.value+=h,p.output=`(?:^|${P}|${N(r)}${P})`,u.output=p.output,u.globstar=!0,j(h+G()),$({type:"slash",value:"/",output:""});continue}u.output=u.output.slice(0,-p.output.length),p.type="globstar",p.output=N(r),p.value+=h,u.output+=p.output,u.globstar=!0,j(h);continue}let W={type:"star",value:h,output:_};if(r.bash===!0){W.output=".*?",(p.type==="bos"||p.type==="slash")&&(W.output=x+W.output),$(W);continue}if(p&&(p.type==="bracket"||p.type==="paren")&&r.regex===!0){W.output=h,$(W);continue}(u.index===u.start||p.type==="slash"||p.type==="dot")&&(p.type==="dot"?(u.output+=w,p.output+=w):r.dot===!0?(u.output+=L,p.output+=L):(u.output+=x,p.output+=x),B()!=="*"&&(u.output+=S,p.output+=S)),$(W)}for(;u.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(ke("closing","]"));u.output=se.escapeLast(u.output,"["),ae("brackets")}for(;u.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(ke("closing",")"));u.output=se.escapeLast(u.output,"("),ae("parens")}for(;u.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(ke("closing","}"));u.output=se.escapeLast(u.output,"{"),ae("braces")}if(r.strictSlashes!==!0&&(p.type==="star"||p.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${P}?`}),u.backtrack===!0){u.output="";for(let O of u.tokens)u.output+=O.output!=null?O.output:O.value,O.suffix&&(u.output+=O.suffix)}return u};Pt.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(st,r.maxLength):st,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=rn[e]||e;let o=se.isWindows(t),{DOT_LITERAL:i,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:f,NO_DOT:c,NO_DOTS:d,NO_DOTS_SLASH:m,STAR:P,START_ANCHOR:S}=nt.globChars(o),g=r.dot?d:c,E=r.dot?m:c,w=r.capture?"":"?:",L={negated:!1,prefix:""},C=r.bash===!0?".*?":P;r.capture&&(C=`(${C})`);let T=x=>x.noglobstar===!0?C:`(${w}(?:(?!${S}${x.dot?f:i}).)*?)`,v=x=>{switch(x){case"*":return`${g}${l}${C}`;case".*":return`${i}${l}${C}`;case"*.*":return`${g}${C}${i}${l}${C}`;case"*/*":return`${g}${C}${a}${l}${E}${C}`;case"**":return g+T(r);case"**/*":return`(?:${g}${T(r)}${a})?${E}${l}${C}`;case"**/*.*":return`(?:${g}${T(r)}${a})?${E}${C}${i}${l}${C}`;case"**/.*":return`(?:${g}${T(r)}${a})?${i}${l}${C}`;default:{let y=/^(.*?)\.(\w+)$/.exec(x);if(!y)return;let _=v(y[1]);return _?_+i+y[2]:void 0}}},I=se.removePrefix(e,L),N=v(I);return N&&r.strictSlashes!==!0&&(N+=`${a}?`),N};nn.exports=Pt});var an=V((bu,on)=>{"use strict";var ni=D("path"),si=tn(),It=sn(),Nt=He(),oi=Fe(),ii=e=>e&&typeof e=="object"&&!Array.isArray(e),Y=(e,t,r=!1)=>{if(Array.isArray(e)){let c=e.map(m=>Y(m,t,r));return m=>{for(let P of c){let S=P(m);if(S)return S}return!1}}let n=ii(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},o=Nt.isWindows(t),i=n?Y.compileRe(e,t):Y.makeRe(e,t,!1,!0),a=i.state;delete i.state;let l=()=>!1;if(s.ignore){let c={...t,ignore:null,onMatch:null,onResult:null};l=Y(s.ignore,c,r)}let f=(c,d=!1)=>{let{isMatch:m,match:P,output:S}=Y.test(c,i,t,{glob:e,posix:o}),g={glob:e,state:a,regex:i,posix:o,input:c,output:S,match:P,isMatch:m};return typeof s.onResult=="function"&&s.onResult(g),m===!1?(g.isMatch=!1,d?g:!1):l(c)?(typeof s.onIgnore=="function"&&s.onIgnore(g),g.isMatch=!1,d?g:!1):(typeof s.onMatch=="function"&&s.onMatch(g),d?g:!0)};return r&&(f.state=a),f};Y.test=(e,t,r,{glob:n,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},i=o.format||(s?Nt.toPosixSlashes:null),a=e===n,l=a&&i?i(e):e;return a===!1&&(l=i?i(e):e,a=l===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=Y.matchBase(e,t,r,s):a=t.exec(l)),{isMatch:Boolean(a),match:a,output:l}};Y.matchBase=(e,t,r,n=Nt.isWindows(r))=>(t instanceof RegExp?t:Y.makeRe(t,r)).test(ni.basename(e));Y.isMatch=(e,t,r)=>Y(t,r)(e);Y.parse=(e,t)=>Array.isArray(e)?e.map(r=>Y.parse(r,t)):It(e,{...t,fastpaths:!1});Y.scan=(e,t)=>si(e,t);Y.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let s=t||{},o=s.contains?"":"^",i=s.contains?"":"$",a=`${o}(?:${e.output})${i}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let l=Y.toRegex(a,t);return n===!0&&(l.state=e),l};Y.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=It.fastpaths(e,t)),s.output||(s=It(e,t)),Y.compileRe(s,t,r,n)};Y.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Y.constants=oi;on.exports=Y});var ln=V((vu,un)=>{"use strict";un.exports=an()});var hn=V((Su,dn)=>{"use strict";var fn=D("util"),pn=Ur(),pe=ln(),Lt=He(),cn=e=>e===""||e==="./",Q=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,s=new Set,o=new Set,i=0,a=c=>{o.add(c.output),r&&r.onResult&&r.onResult(c)};for(let c=0;c<t.length;c++){let d=pe(String(t[c]),{...r,onResult:a},!0),m=d.state.negated||d.state.negatedExtglob;m&&i++;for(let P of e){let S=d(P,!0);(m?!S.isMatch:S.isMatch)&&(m?n.add(S.output):(n.delete(S.output),s.add(S.output)))}}let f=(i===t.length?[...o]:[...s]).filter(c=>!n.has(c));if(r&&f.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(c=>c.replace(/\\/g,"")):t}return f};Q.match=Q;Q.matcher=(e,t)=>pe(e,t);Q.isMatch=(e,t,r)=>pe(t,r)(e);Q.any=Q.isMatch;Q.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,s=[],o=a=>{r.onResult&&r.onResult(a),s.push(a.output)},i=new Set(Q(e,t,{...r,onResult:o}));for(let a of s)i.has(a)||n.add(a);return[...n]};Q.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${fn.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>Q.contains(e,n,r));if(typeof t=="string"){if(cn(e)||cn(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Q.isMatch(e,t,{...r,contains:!0})};Q.matchKeys=(e,t,r)=>{if(!Lt.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=Q(Object.keys(e),t,r),s={};for(let o of n)s[o]=e[o];return s};Q.some=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let o=pe(String(s),r);if(n.some(i=>o(i)))return!0}return!1};Q.every=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let o=pe(String(s),r);if(!n.every(i=>o(i)))return!1}return!0};Q.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${fn.inspect(e)}"`);return[].concat(t).every(n=>pe(n,r)(e))};Q.capture=(e,t,r)=>{let n=Lt.isWindows(r),o=pe.makeRe(String(e),{...r,capture:!0}).exec(n?Lt.toPosixSlashes(t):t);if(o)return o.slice(1).map(i=>i===void 0?"":i)};Q.makeRe=(...e)=>pe.makeRe(...e);Q.scan=(...e)=>pe.scan(...e);Q.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let s of pn(String(n),t))r.push(pe.parse(s,t));return r};Q.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:pn(e,t)};Q.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Q.braces(e,{...t,expand:!0})};dn.exports=Q});var yn=V((Ru,_n)=>{"use strict";var{Duplex:li}=D("stream");function gn(e){e.emit("close")}function ci(){!this.destroyed&&this._writableState.finished&&this.destroy()}function mn(e){this.removeListener("error",mn),this.destroy(),this.listenerCount("error")===0&&this.emit("error",e)}function fi(e,t){let r=!0,n=new li({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(o,i){let a=!i&&n._readableState.objectMode?o.toString():o;n.push(a)||e.pause()}),e.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),e.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(s,o){if(e.readyState===e.CLOSED){o(s),process.nextTick(gn,n);return}let i=!1;e.once("error",function(l){i=!0,o(l)}),e.once("close",function(){i||o(s),process.nextTick(gn,n)}),r&&e.terminate()},n._final=function(s){if(e.readyState===e.CONNECTING){e.once("open",function(){n._final(s)});return}e._socket!==null&&(e._socket._writableState.finished?(s(),n._readableState.endEmitted&&n.destroy()):(e._socket.once("finish",function(){s()}),e.close()))},n._read=function(){e.isPaused&&e.resume()},n._write=function(s,o,i){if(e.readyState===e.CONNECTING){e.once("open",function(){n._write(s,o,i)});return}e.send(s,i)},n.on("end",ci),n.on("error",mn),n}_n.exports=fi});var be=V((Au,xn)=>{"use strict";xn.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var je=V((wu,Dt)=>{"use strict";var{EMPTY_BUFFER:pi}=be();function bn(e,t){if(e.length===0)return pi;if(e.length===1)return e[0];let r=Buffer.allocUnsafe(t),n=0;for(let s=0;s<e.length;s++){let o=e[s];r.set(o,n),n+=o.length}return n<t?r.slice(0,n):r}function vn(e,t,r,n,s){for(let o=0;o<s;o++)r[n+o]=e[o]^t[o&3]}function Sn(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r&3]}function En(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function ot(e){if(ot.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),ot.readOnly=!1),t}try{let e=D("bufferutil");Dt.exports={concat:bn,mask(t,r,n,s,o){o<48?vn(t,r,n,s,o):e.mask(t,r,n,s,o)},toArrayBuffer:En,toBuffer:ot,unmask(t,r){t.length<32?Sn(t,r):e.unmask(t,r)}}}catch{Dt.exports={concat:bn,mask:vn,toArrayBuffer:En,toBuffer:ot,unmask:Sn}}});var Rn=V((Ou,Cn)=>{"use strict";var Tn=Symbol("kDone"),Bt=Symbol("kRun"),Mt=class{constructor(t){this[Tn]=()=>{this.pending--,this[Bt]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[Bt]()}[Bt](){if(this.pending!==this.concurrency&&this.jobs.length){let t=this.jobs.shift();this.pending++,t(this[Tn])}}};Cn.exports=Mt});var Ge=V((ku,kn)=>{"use strict";var Ue=D("zlib"),An=je(),di=Rn(),{kStatusCode:wn}=be(),hi=Buffer.from([0,0,255,255]),ut=Symbol("permessage-deflate"),_e=Symbol("total-length"),qe=Symbol("callback"),ve=Symbol("buffers"),at=Symbol("error"),it,Ft=class{constructor(t,r,n){if(this._maxPayload=n|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!it){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;it=new di(s)}}static get extensionName(){return"permessage-deflate"}offer(){let t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let t=this._deflate[qe];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){let r=this._options,n=t.find(s=>!(r.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>s.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(t){let r=t[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(t){return t.forEach(r=>{Object.keys(r).forEach(n=>{let s=r[n];if(s.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(s=s[0],n==="client_max_window_bits"){if(s!==!0){let o=+s;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else if(n==="server_max_window_bits"){let o=+s;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=s})}),t}decompress(t,r,n){it.add(s=>{this._decompress(t,r,(o,i)=>{s(),n(o,i)})})}compress(t,r,n){it.add(s=>{this._compress(t,r,(o,i)=>{s(),n(o,i)})})}_decompress(t,r,n){let s=this._isServer?"client":"server";if(!this._inflate){let o=`${s}_max_window_bits`,i=typeof this.params[o]!="number"?Ue.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=Ue.createInflateRaw({...this._options.zlibInflateOptions,windowBits:i}),this._inflate[ut]=this,this._inflate[_e]=0,this._inflate[ve]=[],this._inflate.on("error",mi),this._inflate.on("data",On)}this._inflate[qe]=n,this._inflate.write(t),r&&this._inflate.write(hi),this._inflate.flush(()=>{let o=this._inflate[at];if(o){this._inflate.close(),this._inflate=null,n(o);return}let i=An.concat(this._inflate[ve],this._inflate[_e]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[_e]=0,this._inflate[ve]=[],r&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),n(null,i)})}_compress(t,r,n){let s=this._isServer?"server":"client";if(!this._deflate){let o=`${s}_max_window_bits`,i=typeof this.params[o]!="number"?Ue.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=Ue.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:i}),this._deflate[_e]=0,this._deflate[ve]=[],this._deflate.on("data",gi)}this._deflate[qe]=n,this._deflate.write(t),this._deflate.flush(Ue.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=An.concat(this._deflate[ve],this._deflate[_e]);r&&(o=o.slice(0,o.length-4)),this._deflate[qe]=null,this._deflate[_e]=0,this._deflate[ve]=[],r&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};kn.exports=Ft;function gi(e){this[ve].push(e),this[_e]+=e.length}function On(e){if(this[_e]+=e.length,this[ut]._maxPayload<1||this[_e]<=this[ut]._maxPayload){this[ve].push(e);return}this[at]=new RangeError("Max payload size exceeded"),this[at].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[at][wn]=1009,this.removeListener("data",On),this.reset()}function mi(e){this[ut]._inflate=null,e[wn]=1007,this[qe](e)}});var Ve=V((Pu,Ht)=>{"use strict";var Pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function In(e){return e>=1e3&&e<=1014&&e!==1004&&e!==1005&&e!==1006||e>=3e3&&e<=4999}function Nn(e){let t=e.length,r=0;for(;r<t;)if(!(e[r]&128))r++;else if((e[r]&224)===192){if(r+1===t||(e[r+1]&192)!==128||(e[r]&254)===192)return!1;r+=2}else if((e[r]&240)===224){if(r+2>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||e[r]===224&&(e[r+1]&224)===128||e[r]===237&&(e[r+1]&224)===160)return!1;r+=3}else if((e[r]&248)===240){if(r+3>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||(e[r+3]&192)!==128||e[r]===240&&(e[r+1]&240)===128||e[r]===244&&e[r+1]>143||e[r]>244)return!1;r+=4}else return!1;return!0}try{let e=D("utf-8-validate");Ht.exports={isValidStatusCode:In,isValidUTF8(t){return t.length<150?Nn(t):e(t)},tokenChars:Pn}}catch{Ht.exports={isValidStatusCode:In,isValidUTF8:Nn,tokenChars:Pn}}});var qt=V((Iu,$n)=>{"use strict";var{Writable:_i}=D("stream"),Ln=Ge(),{BINARY_TYPES:yi,EMPTY_BUFFER:Dn,kStatusCode:xi,kWebSocket:bi}=be(),{concat:$t,toArrayBuffer:vi,unmask:Si}=je(),{isValidStatusCode:Ei,isValidUTF8:Bn}=Ve(),We=0,Mn=1,Fn=2,Hn=3,jt=4,Ti=5,Ut=class extends _i{constructor(t={}){super(),this._binaryType=t.binaryType||yi[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[bi]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=We,this._loop=!1}_write(t,r,n){if(this._opcode===8&&this._state==We)return n();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(n)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=n.slice(t),n.slice(0,t)}let r=Buffer.allocUnsafe(t);do{let n=this._buffers[0],s=r.length-t;t>=n.length?r.set(this._buffers.shift(),s):(r.set(new Uint8Array(n.buffer,n.byteOffset,t),s),this._buffers[0]=n.slice(t)),t-=n.length}while(t>0);return r}startLoop(t){let r;this._loop=!0;do switch(this._state){case We:r=this.getInfo();break;case Mn:r=this.getPayloadLength16();break;case Fn:r=this.getPayloadLength64();break;case Hn:this.getMask();break;case jt:r=this.getData(t);break;default:this._loop=!1;return}while(this._loop);t(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if(t[0]&48)return this._loop=!1,ee(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(t[0]&64)===64;if(r&&!this._extensions[Ln.extensionName])return this._loop=!1,ee(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(r)return this._loop=!1,ee(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,ee(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,ee(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,ee(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,ee(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,ee(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,ee(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,ee(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,ee(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Mn;else if(this._payloadLength===127)this._state=Fn;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,ee(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,ee(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=Hn:this._state=jt}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=jt}getData(t){let r=Dn;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&Si(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=Ti,this.decompress(r,t);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(t,r){this._extensions[Ln.extensionName].decompress(t,this._fin,(s,o)=>{if(s)return r(s);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(ee(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(o)}let i=this.dataMessage();if(i)return r(i);this.startLoop(r)})}dataMessage(){if(this._fin){let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=$t(r,t):this._binaryType==="arraybuffer"?n=vi($t(r,t)):n=r,this.emit("message",n,!0)}else{let n=$t(r,t);if(!this._skipUTF8Validation&&!Bn(n))return this._loop=!1,ee(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=We}controlMessage(t){if(this._opcode===8)if(this._loop=!1,t.length===0)this.emit("conclude",1005,Dn),this.end();else{if(t.length===1)return ee(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let r=t.readUInt16BE(0);if(!Ei(r))return ee(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let n=t.slice(2);if(!this._skipUTF8Validation&&!Bn(n))return ee(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,n),this.end()}}else this._opcode===9?this.emit("ping",t):this.emit("pong",t);this._state=We}};$n.exports=Ut;function ee(e,t,r,n,s){let o=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,ee),o.code=s,o[xi]=n,o}});var Gt=V((Du,qn)=>{"use strict";var Nu=D("net"),Lu=D("tls"),{randomFillSync:Ci}=D("crypto"),jn=Ge(),{EMPTY_BUFFER:Ri}=be(),{isValidStatusCode:Ai}=Ve(),{mask:Un,toBuffer:Pe}=je(),ce=Symbol("kByteLength"),wi=Buffer.alloc(4),de=class{constructor(t,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,r){let n,s=!1,o=2,i=!1;r.mask&&(n=r.maskBuffer||wi,r.generateMask?r.generateMask(n):Ci(n,0,4),i=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof t=="string"?(!r.mask||i)&&r[ce]!==void 0?a=r[ce]:(t=Buffer.from(t),a=t.length):(a=t.length,s=r.mask&&r.readOnly&&!i);let l=a;a>=65536?(o+=8,l=127):a>125&&(o+=2,l=126);let f=Buffer.allocUnsafe(s?a+o:o);return f[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(f[0]|=64),f[1]=l,l===126?f.writeUInt16BE(a,2):l===127&&(f[2]=f[3]=0,f.writeUIntBE(a,4,6)),r.mask?(f[1]|=128,f[o-4]=n[0],f[o-3]=n[1],f[o-2]=n[2],f[o-1]=n[3],i?[f,t]:s?(Un(t,n,f,o,a),[f]):(Un(t,n,t,0,a),[f,t])):[f,t]}close(t,r,n,s){let o;if(t===void 0)o=Ri;else{if(typeof t!="number"||!Ai(t))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(t,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(t,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let i={[ce]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,i,s]):this.sendFrame(de.frame(o,i),s)}ping(t,r,n){let s,o;if(typeof t=="string"?(s=Buffer.byteLength(t),o=!1):(t=Pe(t),s=t.length,o=Pe.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let i={[ce]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,i,n]):this.sendFrame(de.frame(t,i),n)}pong(t,r,n){let s,o;if(typeof t=="string"?(s=Buffer.byteLength(t),o=!1):(t=Pe(t),s=t.length,o=Pe.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let i={[ce]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,i,n]):this.sendFrame(de.frame(t,i),n)}send(t,r,n){let s=this._extensions[jn.extensionName],o=r.binary?2:1,i=r.compress,a,l;if(typeof t=="string"?(a=Buffer.byteLength(t),l=!1):(t=Pe(t),a=t.length,l=Pe.readOnly),this._firstFragment?(this._firstFragment=!1,i&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(i=a>=s._threshold),this._compress=i):(i=!1,o=0),r.fin&&(this._firstFragment=!0),s){let f={[ce]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:l,rsv1:i};this._deflating?this.enqueue([this.dispatch,t,this._compress,f,n]):this.dispatch(t,this._compress,f,n)}else this.sendFrame(de.frame(t,{[ce]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:l,rsv1:!1}),n)}dispatch(t,r,n,s){if(!r){this.sendFrame(de.frame(t,n),s);return}let o=this._extensions[jn.extensionName];this._bufferedBytes+=n[ce],this._deflating=!0,o.compress(t,n.fin,(i,a)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(l);for(let f=0;f<this._queue.length;f++){let c=this._queue[f],d=c[c.length-1];typeof d=="function"&&d(l)}return}this._bufferedBytes-=n[ce],this._deflating=!1,n.readOnly=!1,this.sendFrame(de.frame(a,n),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let t=this._queue.shift();this._bufferedBytes-=t[3][ce],Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[3][ce],this._queue.push(t)}sendFrame(t,r){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],r),this._socket.uncork()):this._socket.write(t[0],r)}};qn.exports=de});var Jn=V((Bu,Zn)=>{"use strict";var{kForOnEventAttribute:Vt,kListener:Gn}=be(),Vn=Symbol("kCode"),Wn=Symbol("kData"),Kn=Symbol("kError"),zn=Symbol("kMessage"),Qn=Symbol("kReason"),Ie=Symbol("kTarget"),Xn=Symbol("kType"),Yn=Symbol("kWasClean"),ye=class{constructor(t){this[Ie]=null,this[Xn]=t}get target(){return this[Ie]}get type(){return this[Xn]}};Object.defineProperty(ye.prototype,"target",{enumerable:!0});Object.defineProperty(ye.prototype,"type",{enumerable:!0});var Ce=class extends ye{constructor(t,r={}){super(t),this[Vn]=r.code===void 0?0:r.code,this[Qn]=r.reason===void 0?"":r.reason,this[Yn]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[Vn]}get reason(){return this[Qn]}get wasClean(){return this[Yn]}};Object.defineProperty(Ce.prototype,"code",{enumerable:!0});Object.defineProperty(Ce.prototype,"reason",{enumerable:!0});Object.defineProperty(Ce.prototype,"wasClean",{enumerable:!0});var Ne=class extends ye{constructor(t,r={}){super(t),this[Kn]=r.error===void 0?null:r.error,this[zn]=r.message===void 0?"":r.message}get error(){return this[Kn]}get message(){return this[zn]}};Object.defineProperty(Ne.prototype,"error",{enumerable:!0});Object.defineProperty(Ne.prototype,"message",{enumerable:!0});var Ke=class extends ye{constructor(t,r={}){super(t),this[Wn]=r.data===void 0?null:r.data}get data(){return this[Wn]}};Object.defineProperty(Ke.prototype,"data",{enumerable:!0});var Oi={addEventListener(e,t,r={}){let n;if(e==="message")n=function(o,i){let a=new Ke("message",{data:i?o:o.toString()});a[Ie]=this,t.call(this,a)};else if(e==="close")n=function(o,i){let a=new Ce("close",{code:o,reason:i.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[Ie]=this,t.call(this,a)};else if(e==="error")n=function(o){let i=new Ne("error",{error:o,message:o.message});i[Ie]=this,t.call(this,i)};else if(e==="open")n=function(){let o=new ye("open");o[Ie]=this,t.call(this,o)};else return;n[Vt]=!!r[Vt],n[Gn]=t,r.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[Gn]===t&&!r[Vt]){this.removeListener(e,r);break}}};Zn.exports={CloseEvent:Ce,ErrorEvent:Ne,Event:ye,EventTarget:Oi,MessageEvent:Ke}});var Wt=V((Mu,es)=>{"use strict";var{tokenChars:ze}=Ve();function he(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function ki(e){let t=Object.create(null),r=Object.create(null),n=!1,s=!1,o=!1,i,a,l=-1,f=-1,c=-1,d=0;for(;d<e.length;d++)if(f=e.charCodeAt(d),i===void 0)if(c===-1&&ze[f]===1)l===-1&&(l=d);else if(d!==0&&(f===32||f===9))c===-1&&l!==-1&&(c=d);else if(f===59||f===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1&&(c=d);let P=e.slice(l,c);f===44?(he(t,P,r),r=Object.create(null)):i=P,l=c=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===void 0)if(c===-1&&ze[f]===1)l===-1&&(l=d);else if(f===32||f===9)c===-1&&l!==-1&&(c=d);else if(f===59||f===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1&&(c=d),he(r,e.slice(l,c),!0),f===44&&(he(t,i,r),r=Object.create(null),i=void 0),l=c=-1}else if(f===61&&l!==-1&&c===-1)a=e.slice(l,d),l=c=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(s){if(ze[f]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);l===-1?l=d:n||(n=!0),s=!1}else if(o)if(ze[f]===1)l===-1&&(l=d);else if(f===34&&l!==-1)o=!1,c=d;else if(f===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(f===34&&e.charCodeAt(d-1)===61)o=!0;else if(c===-1&&ze[f]===1)l===-1&&(l=d);else if(l!==-1&&(f===32||f===9))c===-1&&(c=d);else if(f===59||f===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1&&(c=d);let P=e.slice(l,c);n&&(P=P.replace(/\\/g,""),n=!1),he(r,a,P),f===44&&(he(t,i,r),r=Object.create(null),i=void 0),a=void 0,l=c=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(l===-1||o||f===32||f===9)throw new SyntaxError("Unexpected end of input");c===-1&&(c=d);let m=e.slice(l,c);return i===void 0?he(t,m,r):(a===void 0?he(r,m,!0):n?he(r,a,m.replace(/\\/g,"")):he(r,a,m),he(t,i,r)),t}function Pi(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(n=>[t].concat(Object.keys(n).map(s=>{let o=n[s];return Array.isArray(o)||(o=[o]),o.map(i=>i===!0?s:`${s}=${i}`).join("; ")})).join("; ")).join(", ")}).join(", ")}es.exports={format:Pi,parse:ki}});var Zt=V((Hu,cs)=>{"use strict";var Ii=D("events"),Ni=D("https"),Li=D("http"),ns=D("net"),Di=D("tls"),{randomBytes:Bi,createHash:Mi}=D("crypto"),{Readable:Fu}=D("stream"),{URL:Kt}=D("url"),Se=Ge(),Fi=qt(),Hi=Gt(),{BINARY_TYPES:ts,EMPTY_BUFFER:lt,GUID:$i,kForOnEventAttribute:zt,kListener:ji,kStatusCode:Ui,kWebSocket:te,NOOP:ss}=be(),{EventTarget:{addEventListener:qi,removeEventListener:Gi}}=Jn(),{format:Vi,parse:Wi}=Wt(),{toBuffer:Ki}=je(),xe=["CONNECTING","OPEN","CLOSING","CLOSED"],zi=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Qt=[8,13],Qi=30*1e3,H=class extends Ii{constructor(t,r,n){super(),this._binaryType=ts[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=lt,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=H.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),os(this,t,r,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(t){ts.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,r,n){let s=new Fi({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new Hi(t,this._extensions,n.generateMask),this._receiver=s,this._socket=t,s[te]=this,t[te]=this,s.on("conclude",Zi),s.on("drain",Ji),s.on("error",ea),s.on("message",ta),s.on("ping",ra),s.on("pong",na),t.setTimeout(0),t.setNoDelay(),r.length>0&&t.unshift(r),t.on("close",as),t.on("data",ct),t.on("end",us),t.on("error",ls),this._readyState=H.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=H.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Se.extensionName]&&this._extensions[Se.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=H.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,r){if(this.readyState!==H.CLOSED){if(this.readyState===H.CONNECTING){let n="WebSocket was closed before the connection was established";return ie(this,this._req,n)}if(this.readyState===H.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=H.CLOSING,this._sender.close(t,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),Qi)}}pause(){this.readyState===H.CONNECTING||this.readyState===H.CLOSED||(this._paused=!0,this._socket.pause())}ping(t,r,n){if(this.readyState===H.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==H.OPEN){Yt(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(t||lt,r,n)}pong(t,r,n){if(this.readyState===H.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==H.OPEN){Yt(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(t||lt,r,n)}resume(){this.readyState===H.CONNECTING||this.readyState===H.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,r,n){if(this.readyState===H.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof t=="number"&&(t=t.toString()),this.readyState!==H.OPEN){Yt(this,t,n);return}let s={binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Se.extensionName]||(s.compress=!1),this._sender.send(t||lt,s,n)}terminate(){if(this.readyState!==H.CLOSED){if(this.readyState===H.CONNECTING){let t="WebSocket was closed before the connection was established";return ie(this,this._req,t)}this._socket&&(this._readyState=H.CLOSING,this._socket.destroy())}}};Object.defineProperty(H,"CONNECTING",{enumerable:!0,value:xe.indexOf("CONNECTING")});Object.defineProperty(H.prototype,"CONNECTING",{enumerable:!0,value:xe.indexOf("CONNECTING")});Object.defineProperty(H,"OPEN",{enumerable:!0,value:xe.indexOf("OPEN")});Object.defineProperty(H.prototype,"OPEN",{enumerable:!0,value:xe.indexOf("OPEN")});Object.defineProperty(H,"CLOSING",{enumerable:!0,value:xe.indexOf("CLOSING")});Object.defineProperty(H.prototype,"CLOSING",{enumerable:!0,value:xe.indexOf("CLOSING")});Object.defineProperty(H,"CLOSED",{enumerable:!0,value:xe.indexOf("CLOSED")});Object.defineProperty(H.prototype,"CLOSED",{enumerable:!0,value:xe.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(H.prototype,e,{enumerable:!0})});["open","error","close","message"].forEach(e=>{Object.defineProperty(H.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[zt])return t[ji];return null},set(t){for(let r of this.listeners(e))if(r[zt]){this.removeListener(e,r);break}typeof t=="function"&&this.addEventListener(e,t,{[zt]:!0})}})});H.prototype.addEventListener=qi;H.prototype.removeEventListener=Gi;cs.exports=H;function os(e,t,r,n){let s={protocolVersion:Qt[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!Qt.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${Qt.join(", ")})`);let o;if(t instanceof Kt)o=t,e._url=t.href;else{try{o=new Kt(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}let i=o.protocol==="wss:",a=o.protocol==="ws+unix:",l;if(o.protocol!=="ws:"&&!i&&!a?l=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:a&&!o.pathname?l="The URL's pathname is empty":o.hash&&(l="The URL contains a fragment identifier"),l){let g=new SyntaxError(l);if(e._redirects===0)throw g;Xt(e,g);return}let f=i?443:80,c=Bi(16).toString("base64"),d=i?Ni.get:Li.get,m=new Set,P;if(s.createConnection=i?Yi:Xi,s.defaultPort=s.defaultPort||f,s.port=o.port||f,s.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,s.headers={"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":c,Connection:"Upgrade",Upgrade:"websocket",...s.headers},s.path=o.pathname+o.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(P=new Se(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=Vi({[Se.extensionName]:P.offer()})),r.length){for(let g of r){if(typeof g!="string"||!zi.test(g)||m.has(g))throw new SyntaxError("An invalid or duplicated subprotocol was specified");m.add(g)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(o.username||o.password)&&(s.auth=`${o.username}:${o.password}`),a){let g=s.path.split(":");s.socketPath=g[0],s.path=g[1]}if(s.followRedirects){if(e._redirects===0){e._originalHost=o.host;let g=n&&n.headers;if(n={...n,headers:{}},g)for(let[E,w]of Object.entries(g))n.headers[E.toLowerCase()]=w}else o.host!==e._originalHost&&(delete s.headers.authorization,delete s.headers.cookie,delete s.headers.host,s.auth=void 0);s.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64"))}let S=e._req=d(s);s.timeout&&S.on("timeout",()=>{ie(e,S,"Opening handshake has timed out")}),S.on("error",g=>{S===null||S.aborted||(S=e._req=null,Xt(e,g))}),S.on("response",g=>{let E=g.headers.location,w=g.statusCode;if(E&&s.followRedirects&&w>=300&&w<400){if(++e._redirects>s.maxRedirects){ie(e,S,"Maximum redirects exceeded");return}S.abort();let L;try{L=new Kt(E,t)}catch{let T=new SyntaxError(`Invalid URL: ${E}`);Xt(e,T);return}os(e,L,r,n)}else e.emit("unexpected-response",S,g)||ie(e,S,`Unexpected server response: ${g.statusCode}`)}),S.on("upgrade",(g,E,w)=>{if(e.emit("upgrade",g),e.readyState!==H.CONNECTING)return;S=e._req=null;let L=Mi("sha1").update(c+$i).digest("base64");if(g.headers["sec-websocket-accept"]!==L){ie(e,E,"Invalid Sec-WebSocket-Accept header");return}let C=g.headers["sec-websocket-protocol"],T;if(C!==void 0?m.size?m.has(C)||(T="Server sent an invalid subprotocol"):T="Server sent a subprotocol but none was requested":m.size&&(T="Server sent no subprotocol"),T){ie(e,E,T);return}C&&(e._protocol=C);let v=g.headers["sec-websocket-extensions"];if(v!==void 0){if(!P){ie(e,E,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let I;try{I=Wi(v)}catch{ie(e,E,"Invalid Sec-WebSocket-Extensions header");return}let N=Object.keys(I);if(N.length!==1||N[0]!==Se.extensionName){ie(e,E,"Server indicated an extension that was not requested");return}try{P.accept(I[Se.extensionName])}catch{ie(e,E,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[Se.extensionName]=P}e.setSocket(E,w,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})})}function Xt(e,t){e._readyState=H.CLOSING,e.emit("error",t),e.emitClose()}function Xi(e){return e.path=e.socketPath,ns.connect(e)}function Yi(e){return e.path=void 0,!e.servername&&e.servername!==""&&(e.servername=ns.isIP(e.host)?"":e.host),Di.connect(e)}function ie(e,t,r){e._readyState=H.CLOSING;let n=new Error(r);Error.captureStackTrace(n,ie),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function Yt(e,t,r){if(t){let n=Ki(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${e.readyState} (${xe[e.readyState]})`);r(n)}}function Zi(e,t){let r=this[te];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,r._socket[te]!==void 0&&(r._socket.removeListener("data",ct),process.nextTick(is,r._socket),e===1005?r.close():r.close(e,t))}function Ji(){let e=this[te];e.isPaused||e._socket.resume()}function ea(e){let t=this[te];t._socket[te]!==void 0&&(t._socket.removeListener("data",ct),process.nextTick(is,t._socket),t.close(e[Ui])),t.emit("error",e)}function rs(){this[te].emitClose()}function ta(e,t){this[te].emit("message",e,t)}function ra(e){let t=this[te];t.pong(e,!t._isServer,ss),t.emit("ping",e)}function na(e){this[te].emit("pong",e)}function is(e){e.resume()}function as(){let e=this[te];this.removeListener("close",as),this.removeListener("data",ct),this.removeListener("end",us),e._readyState=H.CLOSING;let t;!this._readableState.endEmitted&&!e._closeFrameReceived&&!e._receiver._writableState.errorEmitted&&(t=e._socket.read())!==null&&e._receiver.write(t),e._receiver.end(),this[te]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",rs),e._receiver.on("finish",rs))}function ct(e){this[te]._receiver.write(e)||this.pause()}function us(){let e=this[te];e._readyState=H.CLOSING,e._receiver.end(),this.end()}function ls(){let e=this[te];this.removeListener("error",ls),this.on("error",ss),e&&(e._readyState=H.CLOSING,this.destroy())}});var ps=V(($u,fs)=>{"use strict";var{tokenChars:sa}=Ve();function oa(e){let t=new Set,r=-1,n=-1,s=0;for(s;s<e.length;s++){let i=e.charCodeAt(s);if(n===-1&&sa[i]===1)r===-1&&(r=s);else if(s!==0&&(i===32||i===9))n===-1&&r!==-1&&(n=s);else if(i===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${s}`);n===-1&&(n=s);let a=e.slice(r,n);if(t.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);t.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=e.slice(r,s);if(t.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return t.add(o),t}fs.exports={parse:oa}});var ys=V((Gu,_s)=>{"use strict";var ia=D("events"),ft=D("http"),ju=D("https"),Uu=D("net"),qu=D("tls"),{createHash:aa}=D("crypto"),ds=Wt(),Re=Ge(),ua=ps(),la=Zt(),{GUID:ca,kWebSocket:fa}=be(),pa=/^[+/0-9A-Za-z]{22}==$/,hs=0,gs=1,ms=2,Jt=class extends ia{constructor(t,r){if(super(),t={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:la,...t},t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=ft.createServer((n,s)=>{let o=ft.STATUS_CODES[426];s.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),s.end(o)}),this._server.listen(t.port,t.host,t.backlog,r)):t.server&&(this._server=t.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=da(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,o,i)=>{this.handleUpgrade(s,o,i,n)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=hs}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===ms){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(Qe,this);return}if(t&&this.once("close",t),this._state!==gs)if(this._state=gs,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Qe,this):process.nextTick(Qe,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{Qe(this)})}}shouldHandle(t){if(this.options.path){let r=t.url.indexOf("?");if((r!==-1?t.url.slice(0,r):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,r,n,s){r.on("error",er);let o=t.headers["sec-websocket-key"]!==void 0?t.headers["sec-websocket-key"]:!1,i=+t.headers["sec-websocket-version"];if(t.method!=="GET"||t.headers.upgrade.toLowerCase()!=="websocket"||!o||!pa.test(o)||i!==8&&i!==13||!this.shouldHandle(t))return Le(r,400);let a=t.headers["sec-websocket-protocol"],l=new Set;if(a!==void 0)try{l=ua.parse(a)}catch{return Le(r,400)}let f=t.headers["sec-websocket-extensions"],c={};if(this.options.perMessageDeflate&&f!==void 0){let d=new Re(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let m=ds.parse(f);m[Re.extensionName]&&(d.accept(m[Re.extensionName]),c[Re.extensionName]=d)}catch{return Le(r,400)}}if(this.options.verifyClient){let d={origin:t.headers[`${i===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(d,(m,P,S,g)=>{if(!m)return Le(r,P||401,S,g);this.completeUpgrade(c,o,l,t,r,n,s)});return}if(!this.options.verifyClient(d))return Le(r,401)}this.completeUpgrade(c,o,l,t,r,n,s)}completeUpgrade(t,r,n,s,o,i,a){if(!o.readable||!o.writable)return o.destroy();if(o[fa])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>hs)return Le(o,503);let f=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${aa("sha1").update(r+ca).digest("base64")}`],c=new this.options.WebSocket(null);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,s):n.values().next().value;d&&(f.push(`Sec-WebSocket-Protocol: ${d}`),c._protocol=d)}if(t[Re.extensionName]){let d=t[Re.extensionName].params,m=ds.format({[Re.extensionName]:[d]});f.push(`Sec-WebSocket-Extensions: ${m}`),c._extensions=t}this.emit("headers",f,s),o.write(f.concat(`\r
`).join(`\r
`)),o.removeListener("error",er),c.setSocket(o,i,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(c),c.on("close",()=>{this.clients.delete(c),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Qe,this)})),a(c,s)}};_s.exports=Jt;function da(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let n of Object.keys(t))e.removeListener(n,t[n])}}function Qe(e){e._state=ms,e.emit("close")}function er(){this.destroy()}function Le(e,t,r,n){e.writable&&(r=r||ft.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${ft.STATUS_CODES[t]}\r
`+Object.keys(n).map(s=>`${s}: ${n[s]}`).join(`\r
`)+`\r
\r
`+r)),e.removeListener("error",er),e.destroy()}});var Rs=V((Vu,Cs)=>{"use strict";var xa=Object.create,pt=Object.defineProperty,ba=Object.getOwnPropertyDescriptor,Ss=Object.getOwnPropertyNames,va=Object.getPrototypeOf,Sa=Object.prototype.hasOwnProperty,Ea=(e,t)=>function(){return t||(0,e[Ss(e)[0]])((t={exports:{}}).exports,t),t.exports},Ta=(e,t)=>{for(var r in t)pt(e,r,{get:t[r],enumerable:!0})},Es=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ss(t))!Sa.call(e,s)&&s!==r&&pt(e,s,{get:()=>t[s],enumerable:!(n=ba(t,s))||n.enumerable});return e},Ca=(e,t,r)=>(r=e!=null?xa(va(e)):{},Es(t||!e||!e.__esModule?pt(r,"default",{value:e,enumerable:!0}):r,e)),Ra=e=>Es(pt({},"__esModule",{value:!0}),e),Aa=Ea({"node_modules/request-light/lib/node/main.js"(e){(()=>{var t={46:(i,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l,f,{signal:c}={}){return new Promise((d,m)=>{function P(){c?.removeEventListener("abort",P),l.removeListener(f,S),l.removeListener("error",g)}function S(...E){P(),d(E)}function g(E){P(),m(E)}c?.addEventListener("abort",P),l.on(f,S),l.on("error",g)})}},54:function(i,a,l){"use strict";var f=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};let c=l(361),d=f(l(374)),m=f(l(304)),P=d.default("agent-base");function S(){let{stack:E}=new Error;return typeof E=="string"&&E.split(`
`).some(w=>w.indexOf("(https.js:")!==-1||w.indexOf("node:https:")!==-1)}function g(E,w){return new g.Agent(E,w)}(function(E){class w extends c.EventEmitter{constructor(C,T){super();let v=T;typeof C=="function"?this.callback=C:C&&(v=C),this.timeout=null,v&&typeof v.timeout=="number"&&(this.timeout=v.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:S()?443:80}set defaultPort(C){this.explicitDefaultPort=C}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:S()?"https:":"http:"}set protocol(C){this.explicitProtocol=C}callback(C,T,v){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(C,T){let v=Object.assign({},T);typeof v.secureEndpoint!="boolean"&&(v.secureEndpoint=S()),v.host==null&&(v.host="localhost"),v.port==null&&(v.port=v.secureEndpoint?443:80),v.protocol==null&&(v.protocol=v.secureEndpoint?"https:":"http:"),v.host&&v.path&&delete v.path,delete v.agent,delete v.hostname,delete v._defaultAgent,delete v.defaultPort,delete v.createConnection,C._last=!0,C.shouldKeepAlive=!1;let I=!1,N=null,x=v.timeout||this.timeout,y=b=>{C._hadError||(C.emit("error",b),C._hadError=!0)},_=()=>{N=null,I=!0;let b=new Error(`A "socket" was not created for HTTP request before ${x}ms`);b.code="ETIMEOUT",y(b)},u=b=>{I||(N!==null&&(clearTimeout(N),N=null),y(b))},A=b=>{if(I)return;if(N!=null&&(clearTimeout(N),N=null),k=b,Boolean(k)&&typeof k.addRequest=="function")return P("Callback returned another Agent instance %o",b.constructor.name),void b.addRequest(C,v);var k;if(b)return b.once("free",()=>{this.freeSocket(b,v)}),void C.onSocket(b);let p=new Error(`no Duplex stream was returned to agent-base for \`${C.method} ${C.path}\``);y(p)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(P("Converting legacy callback function to promise"),this.promisifiedCallback=m.default(this.callback)):this.promisifiedCallback=this.callback),typeof x=="number"&&x>0&&(N=setTimeout(_,x)),"port"in v&&typeof v.port!="number"&&(v.port=Number(v.port));try{P("Resolving socket for %o request: %o",v.protocol,`${C.method} ${C.path}`),Promise.resolve(this.promisifiedCallback(C,v)).then(A,u)}catch(b){Promise.reject(b).catch(u)}}else y(new Error("`callback` is not defined"))}freeSocket(C,T){P("Freeing socket %o %o",C.constructor.name,T),C.destroy()}destroy(){P("Destroying agent %o",this.constructor.name)}}E.Agent=w,E.prototype=E.Agent.prototype})(g||(g={})),i.exports=g},304:(i,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l){return function(f,c){return new Promise((d,m)=>{l.call(this,f,c,(P,S)=>{P?m(P):d(S)})})}}},370:function(i,a,l){"use strict";var f=this&&this.__awaiter||function(C,T,v,I){return new(v||(v=Promise))(function(N,x){function y(A){try{u(I.next(A))}catch(b){x(b)}}function _(A){try{u(I.throw(A))}catch(b){x(b)}}function u(A){var b;A.done?N(A.value):(b=A.value,b instanceof v?b:new v(function(k){k(b)})).then(y,_)}u((I=I.apply(C,T||[])).next())})},c=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(a,"__esModule",{value:!0});let d=c(l(808)),m=c(l(404)),P=c(l(310)),S=c(l(374)),g=c(l(46)),E=l(54),w=(0,S.default)("http-proxy-agent");class L extends E.Agent{constructor(T){let v;if(v=typeof T=="string"?P.default.parse(T):T,!v)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");w("Creating new HttpProxyAgent instance: %o",v),super(v);let I=Object.assign({},v);var N;this.secureProxy=v.secureProxy||typeof(N=I.protocol)=="string"&&/^https:?$/i.test(N),I.host=I.hostname||I.host,typeof I.port=="string"&&(I.port=parseInt(I.port,10)),!I.port&&I.host&&(I.port=this.secureProxy?443:80),I.host&&I.path&&(delete I.path,delete I.pathname),this.proxy=I}callback(T,v){return f(this,void 0,void 0,function*(){let{proxy:I,secureProxy:N}=this,x=P.default.parse(T.path),y;if(x.protocol||(x.protocol="http:"),x.hostname||(x.hostname=v.hostname||v.host||null),x.port==null&&(v.port,1)&&(x.port=String(v.port)),x.port==="80"&&(x.port=""),T.path=P.default.format(x),I.auth&&T.setHeader("Proxy-Authorization",`Basic ${Buffer.from(I.auth).toString("base64")}`),N?(w("Creating `tls.Socket`: %o",I),y=m.default.connect(I)):(w("Creating `net.Socket`: %o",I),y=d.default.connect(I)),T._header){let _,u;w("Regenerating stored HTTP header string for request"),T._header=null,T._implicitHeader(),T.output&&T.output.length>0?(w("Patching connection write() output buffer with updated header"),_=T.output[0],u=_.indexOf(`\r
\r
`)+4,T.output[0]=T._header+_.substring(u),w("Output buffer: %o",T.output)):T.outputData&&T.outputData.length>0&&(w("Patching connection write() output buffer with updated header"),_=T.outputData[0].data,u=_.indexOf(`\r
\r
`)+4,T.outputData[0].data=T._header+_.substring(u),w("Output buffer: %o",T.outputData[0].data))}return yield(0,g.default)(y,"connect"),y})}}a.default=L},201:function(i,a,l){"use strict";let f=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(l(370));function c(d){return new f.default(d)}(function(d){d.HttpProxyAgent=f.default,d.prototype=f.default.prototype})(c||(c={})),i.exports=c},146:function(i,a,l){"use strict";var f=this&&this.__awaiter||function(v,I,N,x){return new(N||(N=Promise))(function(y,_){function u(k){try{b(x.next(k))}catch(p){_(p)}}function A(k){try{b(x.throw(k))}catch(p){_(p)}}function b(k){var p;k.done?y(k.value):(p=k.value,p instanceof N?p:new N(function(h){h(p)})).then(u,A)}b((x=x.apply(v,I||[])).next())})},c=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0});let d=c(l(808)),m=c(l(404)),P=c(l(310)),S=c(l(491)),g=c(l(374)),E=l(54),w=c(l(829)),L=g.default("https-proxy-agent:agent");class C extends E.Agent{constructor(I){let N;if(N=typeof I=="string"?P.default.parse(I):I,!N)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");L("creating new HttpsProxyAgent instance: %o",N),super(N);let x=Object.assign({},N);var y;this.secureProxy=N.secureProxy||typeof(y=x.protocol)=="string"&&/^https:?$/i.test(y),x.host=x.hostname||x.host,typeof x.port=="string"&&(x.port=parseInt(x.port,10)),!x.port&&x.host&&(x.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in x)&&(x.ALPNProtocols=["http 1.1"]),x.host&&x.path&&(delete x.path,delete x.pathname),this.proxy=x}callback(I,N){return f(this,void 0,void 0,function*(){let{proxy:x,secureProxy:y}=this,_;y?(L("Creating `tls.Socket`: %o",x),_=m.default.connect(x)):(L("Creating `net.Socket`: %o",x),_=d.default.connect(x));let u=Object.assign({},x.headers),A=`CONNECT ${N.host}:${N.port} HTTP/1.1\r
`;x.auth&&(u["Proxy-Authorization"]=`Basic ${Buffer.from(x.auth).toString("base64")}`);let{host:b,port:k,secureEndpoint:p}=N;(function(M,j){return Boolean(!j&&M===80||j&&M===443)})(k,p)||(b+=`:${k}`),u.Host=b,u.Connection="close";for(let M of Object.keys(u))A+=`${M}: ${u[M]}\r
`;let h=w.default(_);_.write(`${A}\r
`);let{statusCode:q,buffered:B}=yield h;if(q===200){if(I.once("socket",T),N.secureEndpoint){L("Upgrading socket connection to TLS");let M=N.servername||N.host;return m.default.connect(Object.assign(Object.assign({},function(j,...U){let z={},X;for(X in j)U.includes(X)||(z[X]=j[X]);return z}(N,"host","hostname","path","port")),{socket:_,servername:M}))}return _}_.destroy();let G=new d.default.Socket({writable:!1});return G.readable=!0,I.once("socket",M=>{L("replaying proxy buffer for failed request"),S.default(M.listenerCount("data")>0),M.push(B),M.push(null)}),G})}}function T(v){v.resume()}a.default=C},18:function(i,a,l){"use strict";let f=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(l(146));function c(d){return new f.default(d)}(function(d){d.HttpsProxyAgent=f.default,d.prototype=f.default.prototype})(c||(c={})),i.exports=c},829:function(i,a,l){"use strict";var f=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(a,"__esModule",{value:!0});let c=f(l(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(d){return new Promise((m,P)=>{let S=0,g=[];function E(){let C=d.read();C?function(T){g.push(T),S+=T.length;let v=Buffer.concat(g,S);if(v.indexOf(`\r
\r
`)===-1)return c("have not received end of HTTP headers yet..."),void E();let I=v.toString("ascii",0,v.indexOf(`\r
`)),N=+I.split(" ")[1];c("got proxy server response: %o",I),m({statusCode:N,buffered:v})}(C):d.once("readable",E)}function w(C){c("onclose had error %o",C)}function L(){c("onend")}d.on("error",function C(T){d.removeListener("end",L),d.removeListener("error",C),d.removeListener("close",w),d.removeListener("readable",E),c("onerror %o",T),P(T)}),d.on("close",w),d.on("end",L),E()})}},539:function(i,a,l){"use strict";var f,c=this&&this.__extends||(f=function(y,_){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,A){u.__proto__=A}||function(u,A){for(var b in A)Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])},f(y,_)},function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function u(){this.constructor=y}f(y,_),y.prototype=_===null?Object.create(_):(u.prototype=_.prototype,new u)}),d=this&&this.__assign||function(){return d=Object.assign||function(y){for(var _,u=1,A=arguments.length;u<A;u++)for(var b in _=arguments[u])Object.prototype.hasOwnProperty.call(_,b)&&(y[b]=_[b]);return y},d.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var m=l(685),P=l(687),S=l(310),g=l(472),E=l(796),w=l(201),L=l(18);if(process.env.VSCODE_NLS_CONFIG){var C=process.env.VSCODE_NLS_CONFIG;g.config(JSON.parse(C))}var T=g.loadMessageBundle(),v=void 0,I=!0;function N(y){var _;return new Promise(function(u,A){var b=(0,S.parse)(y.url),k={hostname:b.hostname,agent:!!y.agent&&y.agent,port:b.port?parseInt(b.port):b.protocol==="https:"?443:80,path:b.path,method:y.type||"GET",headers:y.headers,rejectUnauthorized:typeof y.strictSSL!="boolean"||y.strictSSL};y.user&&y.password&&(k.auth=y.user+":"+y.password);var p=function(h){if(h.statusCode>=300&&h.statusCode<400&&y.followRedirects&&y.followRedirects>0&&h.headers.location){var q=h.headers.location;q.startsWith("/")&&(q=(0,S.format)({protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:q})),u(N(function(B){for(var G=[],M=1;M<arguments.length;M++)G[M-1]=arguments[M];return G.forEach(function(j){return Object.keys(j).forEach(function(U){return B[U]=j[U]})}),B}({},y,{url:q,followRedirects:y.followRedirects-1})))}else u({req:_,res:h})};(_=b.protocol==="https:"?P.request(k,p):m.request(k,p)).on("error",A),y.timeout&&_.setTimeout(y.timeout),y.data&&_.write(y.data),_.end(),y.token&&(y.token.isCancellationRequested&&_.destroy(new x),y.token.onCancellationRequested(function(){_.destroy(new x)}))})}a.configure=function(y,_){v=y,I=_},a.xhr=function(y){return typeof(y=d({},y)).strictSSL!="boolean"&&(y.strictSSL=I),y.agent||(y.agent=function(_,u){u===void 0&&(u={});var A=(0,S.parse)(_),b=u.proxyUrl||function(h){return h.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:h.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(A);if(!b)return null;var k=(0,S.parse)(b);if(!/^https?:$/.test(k.protocol))return null;var p={host:k.hostname,port:Number(k.port),auth:k.auth,rejectUnauthorized:typeof u.strictSSL!="boolean"||u.strictSSL,protocol:k.protocol};return A.protocol==="http:"?w(p):L(p)}(y.url,{proxyUrl:v,strictSSL:I})),typeof y.followRedirects!="number"&&(y.followRedirects=5),N(y).then(function(_){return new Promise(function(u,A){var b,k,p=_.res,h=p,q=!1,B=p.headers&&p.headers["content-encoding"];if(B&&(b=y.type,k=_.res.statusCode,!(b==="HEAD"||k>=100&&k<200||k===204||k===304))){var G={flush:E.constants.Z_SYNC_FLUSH,finishFlush:E.constants.Z_SYNC_FLUSH};if(B==="gzip"){var M=E.createGunzip(G);p.pipe(M),h=M}else if(B==="deflate"){var j=E.createInflate(G);p.pipe(j),h=j}}var U=[];h.on("data",function(z){return U.push(z)}),h.on("end",function(){if(!q){if(q=!0,y.followRedirects>0&&(p.statusCode>=300&&p.statusCode<=303||p.statusCode===307)){var z=p.headers.location;if(z.startsWith("/")){var X=(0,S.parse)(y.url);z=(0,S.format)({protocol:X.protocol,hostname:X.hostname,port:X.port,pathname:z})}if(z){var ae={type:y.type,url:z,user:y.user,password:y.password,headers:y.headers,timeout:y.timeout,followRedirects:y.followRedirects-1,data:y.data,token:y.token};return void(0,a.xhr)(ae).then(u,A)}}var $=Buffer.concat(U),ue={responseText:$.toString(),body:$,status:p.statusCode,headers:p.headers||{}};p.statusCode>=200&&p.statusCode<300||p.statusCode===1223?u(ue):A(ue)}}),h.on("error",function(z){var X;X=x.is(z)?z:{responseText:T("error","Unable to access {0}. Error: {1}",y.url,z.message),body:Buffer.concat(U),status:500,headers:{}},q=!0,A(X)}),y.token&&(y.token.isCancellationRequested&&h.destroy(new x),y.token.onCancellationRequested(function(){h.destroy(new x)}))})},function(_){var u;return u=x.is(_)?_:{responseText:y.agent?T("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",y.url,_.message):T("error.cannot.connect","Unable to connect to {0}. Error: {1}",y.url,_.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(u)})},a.getErrorStatusDescription=function(y){if(!(y<400))switch(y){case 400:return T("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return T("status.401","Unauthorized. The server is refusing to respond.");case 403:return T("status.403","Forbidden. The server is refusing to respond.");case 404:return T("status.404","Not Found. The requested location could not be found.");case 405:return T("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return T("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return T("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return T("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return T("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return T("status.410","Gone. The requested page is no longer available.");case 411:return T("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return T("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return T("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return T("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return T("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return T("status.500","Internal Server Error.");case 501:return T("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return T("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return T("status.416","HTTP status code {0}",y)}};var x=function(y){function _(){var u=y.call(this,"The user aborted a request")||this;return u.name="AbortError",Object.setPrototypeOf(u,_.prototype),u}return c(_,y),_.is=function(u){return u instanceof _},_}(Error)},800:(i,a,l)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var f,c,d,m=l(926);function P(g){return g!==void 0}function S(g,E){return a.isPseudo&&(g="\uFF3B"+g.replace(/[aouei]/g,"$&$&")+"\uFF3D"),E.length===0?g:g.replace(/\{(\d+)\}/g,function(w,L){var C=L[0],T=E[C],v=w;return typeof T=="string"?v=T:typeof T!="number"&&typeof T!="boolean"&&T!=null||(v=String(T)),v})}(d=a.MessageFormat||(a.MessageFormat={})).file="file",d.bundle="bundle",d.both="both",(c=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",c.languagePack="languagePack",function(g){g.is=function(E){var w=E;return w&&P(w.key)&&P(w.comment)}}(f||(f={})),a.isDefined=P,a.isPseudo=!1,a.setPseudo=function(g){a.isPseudo=g},a.format=S,a.localize=function(g,E){for(var w=[],L=2;L<arguments.length;L++)w[L-2]=arguments[L];return S(E,w)},a.loadMessageBundle=function(g){return(0,m.default)().loadMessageBundle(g)},a.config=function(g){return(0,m.default)().config(g)}},926:(i,a)=>{"use strict";var l;function f(){if(l===void 0)throw new Error("No runtime abstraction layer installed");return l}Object.defineProperty(a,"__esModule",{value:!0}),function(c){c.install=function(d){if(d===void 0)throw new Error("No runtime abstraction layer provided");l=d}}(f||(f={})),a.default=f},472:(i,a,l)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var f=l(17),c=l(147),d=l(926),m=l(800),P=l(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return P.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return P.BundleFormat}});var S,g,E=Object.prototype.toString;function w(_){return E.call(_)==="[object Number]"}function L(_){return E.call(_)==="[object String]"}function C(_){return JSON.parse(c.readFileSync(_,"utf8"))}function T(_){return function(u,A){for(var b=[],k=2;k<arguments.length;k++)b[k-2]=arguments[k];return w(u)?u>=_.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,m.format)(_[u],b):L(A)?(console.warn("Message ".concat(A," didn't get externalized correctly.")),(0,m.format)(A,b)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function v(_,u){return S[_]=u,u}function I(_){try{return function(u){var A=C(f.join(u,"nls.metadata.json")),b=Object.create(null);for(var k in A){var p=A[k];b[k]=p.messages}return b}(_)}catch(u){return void console.log("Generating default bundle from meta data failed.",u)}}function N(_,u){var A;if(g.languagePackSupport===!0&&g.cacheRoot!==void 0&&g.languagePackId!==void 0&&g.translationsConfigFile!==void 0&&g.translationsConfig!==void 0)try{A=function(k,p){var h,q,B,G=f.join(g.cacheRoot,"".concat(k.id,"-").concat(k.hash,".json")),M=!1,j=!1;try{return h=JSON.parse(c.readFileSync(G,{encoding:"utf8",flag:"r"})),q=G,B=new Date,c.utimes(q,B,B,function(){}),h}catch(U){if(U.code==="ENOENT")j=!0;else{if(!(U instanceof SyntaxError))throw U;console.log("Syntax error parsing message bundle: ".concat(U.message,".")),c.unlink(G,function(z){z&&console.error("Deleting corrupted bundle ".concat(G," failed."))}),M=!0}}if(h=function(U,z){var X=g.translationsConfig[U.id];if(X){var ae=C(X).contents,$=C(f.join(z,"nls.metadata.json")),ue=Object.create(null);for(var we in $){var O=$[we],W=ae["".concat(U.outDir,"/").concat(we)];if(W){for(var R=[],F=0;F<O.keys.length;F++){var K=O.keys[F],Z=W[L(K)?K:K.key];Z===void 0&&(Z=O.messages[F]),R.push(Z)}ue[we]=R}else ue[we]=O.messages}return ue}}(k,p),!h||M)return h;if(j)try{c.writeFileSync(G,JSON.stringify(h),{encoding:"utf8",flag:"wx"})}catch(U){if(U.code==="EEXIST")return h;throw U}return h}(_,u)}catch(k){console.log("Load or create bundle failed ",k)}if(!A){if(g.languagePackSupport)return I(u);var b=function(k){for(var p=g.language;p;){var h=f.join(k,"nls.bundle.".concat(p,".json"));if(c.existsSync(h))return h;var q=p.lastIndexOf("-");p=q>0?p.substring(0,q):void 0}if(p===void 0&&(h=f.join(k,"nls.bundle.json"),c.existsSync(h)))return h}(u);if(b)try{return C(b)}catch(k){console.log("Loading in the box message bundle failed.",k)}A=I(u)}return A}function x(_){if(!_)return m.localize;var u=f.extname(_);if(u&&(_=_.substr(0,_.length-u.length)),g.messageFormat===m.MessageFormat.both||g.messageFormat===m.MessageFormat.bundle){var A=function(M){for(var j,U=f.dirname(M);j=f.join(U,"nls.metadata.header.json"),!c.existsSync(j);){var z=f.dirname(U);if(z===U){j=void 0;break}U=z}return j}(_);if(A){var b=f.dirname(A),k=S[b];if(k===void 0)try{var p=JSON.parse(c.readFileSync(A,"utf8"));try{var h=N(p,b);k=v(b,h?{header:p,nlsBundle:h}:null)}catch(M){console.error("Failed to load nls bundle",M),k=v(b,null)}}catch(M){console.error("Failed to read header file",M),k=v(b,null)}if(k){var q=_.substr(b.length+1).replace(/\\/g,"/"),B=k.nlsBundle[q];return B===void 0?(console.error("Messages for file ".concat(_," not found. See console for details.")),function(){return"Messages not found."}):T(B)}}}if(g.messageFormat===m.MessageFormat.both||g.messageFormat===m.MessageFormat.file)try{var G=C(function(M){var j;if(!(g.cacheLanguageResolution&&j)){if(m.isPseudo||!g.language)j=".nls.json";else for(var U=g.language;U;){var z=".nls."+U+".json";if(c.existsSync(M+z)){j=z;break}var X=U.lastIndexOf("-");X>0?U=U.substring(0,X):(j=".nls.json",U=null)}g.cacheLanguageResolution}return M+j}(_));return Array.isArray(G)?T(G):(0,m.isDefined)(G.messages)&&(0,m.isDefined)(G.keys)?T(G.messages):(console.error("String bundle '".concat(_,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(M){M.code!=="ENOENT"&&console.error("Failed to load single file bundle",M)}return console.error("Failed to load message bundle for file ".concat(_)),function(){return"Failed to load message bundle. See console for details."}}function y(_){return _&&(L(_.locale)&&(g.locale=_.locale.toLowerCase(),g.language=g.locale,S=Object.create(null)),_.messageFormat!==void 0&&(g.messageFormat=_.messageFormat),_.bundleFormat===m.BundleFormat.standalone&&g.languagePackSupport===!0&&(g.languagePackSupport=!1)),(0,m.setPseudo)(g.locale==="pseudo"),x}(function(){if(g={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:m.MessageFormat.bundle},L(process.env.VSCODE_NLS_CONFIG))try{var _=JSON.parse(process.env.VSCODE_NLS_CONFIG),u=void 0;if(_.availableLanguages){var A=_.availableLanguages["*"];L(A)&&(u=A)}if(L(_.locale)&&(g.locale=_.locale.toLowerCase()),u===void 0?g.language=g.locale:u!=="en"&&(g.language=u),function(k){return k===!0||k===!1}(_._languagePackSupport)&&(g.languagePackSupport=_._languagePackSupport),L(_._cacheRoot)&&(g.cacheRoot=_._cacheRoot),L(_._languagePackId)&&(g.languagePackId=_._languagePackId),L(_._translationsConfigFile)){g.translationsConfigFile=_._translationsConfigFile;try{g.translationsConfig=C(g.translationsConfigFile)}catch{if(_._corruptedFile){var b=f.dirname(_._corruptedFile);c.exists(b,function(p){p&&c.writeFile(_._corruptedFile,"corrupted","utf8",function(h){console.error(h)})})}}}}catch{}(0,m.setPseudo)(g.locale==="pseudo"),S=Object.create(null)})(),a.loadMessageBundle=x,a.config=y,d.default.install(Object.freeze({loadMessageBundle:x,config:y}))},374:(i,a)=>{function l(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(f){return l}},491:i=>{"use strict";i.exports=D("assert")},361:i=>{"use strict";i.exports=D("events")},147:i=>{"use strict";i.exports=D("fs")},685:i=>{"use strict";i.exports=D("http")},687:i=>{"use strict";i.exports=D("https")},808:i=>{"use strict";i.exports=D("net")},17:i=>{"use strict";i.exports=D("path")},404:i=>{"use strict";i.exports=D("tls")},310:i=>{"use strict";i.exports=D("url")},796:i=>{"use strict";i.exports=D("zlib")}},r={},n=function i(a){var l=r[a];if(l!==void 0)return l.exports;var f=r[a]={exports:{}};return t[a].call(f.exports,f,f.exports,i),f.exports}(539),s=e;for(var o in n)s[o]=n[o];n.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})()}}),Ts={};Ta(Ts,{config:()=>Ia,t:()=>Na});Cs.exports=Ra(Ts);var wa=D("fs"),Oa=D("fs/promises"),bs=Ca(Aa());async function ka(e){if(e.protocol==="file:")return await(0,Oa.readFile)(e,"utf8");if(e.protocol==="http:"||e.protocol==="https:")try{let t=await(0,bs.xhr)({url:e.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(t.body)}catch(t){throw new Error(t.responseText??(0,bs.getErrorStatusDescription)(t.status)??t.toString())}throw new Error("Unsupported protocol")}function Pa(e){return(0,wa.readFileSync)(e,"utf8")}var De;function Ia(e){if("contents"in e){typeof e.contents=="string"?De=JSON.parse(e.contents):De=e.contents;return}if("fsPath"in e){let t=Pa(e.fsPath),r=JSON.parse(t);De=vs(r)?r.contents.bundle:r;return}if(e.uri){let t=e.uri;return typeof e.uri=="string"&&(t=new URL(e.uri)),new Promise((r,n)=>{let s=ka(t).then(o=>{try{let i=JSON.parse(o);De=vs(i)?i.contents.bundle:i}catch(i){n(i)}}).catch(o=>{n(o)});r(s)})}}function Na(...e){let t=e[0],r,n,s;if(typeof t=="string"?(r=t,n=t,e.splice(0,1),s=!e||typeof e[0]!="object"?e:e[0]):(n=t.message,r=n,t.comment&&t.comment.length>0&&(r+=`/${Array.isArray(t.comment)?t.comment.join():t.comment}`),s=t.args??{}),!De)return Xe(n,s);let o=De[r];return o?typeof o=="string"?Xe(o,s):o.comment?Xe(o.message,s):Xe(n,s):Xe(n,s)}var La=/{([^}]+)}/g;function Xe(e,t){return e.replace(La,(r,n)=>t[n]??r)}function vs(e){return typeof e?.contents?.bundle=="object"&&typeof e?.version=="string"}});var gt=D("child_process"),mt=le(D("fs")),Ae=le(D("inspector")),Fs=le(hn()),_t=le(D("path"));var ai={["pwa-extensionHost"]:null,["node-terminal"]:null,["pwa-node"]:null,["pwa-chrome"]:null,["pwa-msedge"]:null},ui={["extension.js-debug.addCustomBreakpoints"]:null,["extension.pwa-node-debug.attachNodeProcess"]:null,["extension.js-debug.clearAutoAttachVariables"]:null,["extension.js-debug.setAutoAttachVariables"]:null,["extension.js-debug.autoAttachToProcess"]:null,["extension.js-debug.createDebuggerTerminal"]:null,["extension.js-debug.createDiagnostics"]:null,["extension.js-debug.getDiagnosticLogs"]:null,["extension.js-debug.debugLink"]:null,["extension.js-debug.npmScript"]:null,["extension.js-debug.pickNodeProcess"]:null,["extension.js-debug.prettyPrint"]:null,["extension.js-debug.removeAllCustomBreakpoints"]:null,["extension.js-debug.removeCustomBreakpoint"]:null,["extension.js-debug.revealPage"]:null,["extension.js-debug.startProfile"]:null,["extension.js-debug.stopProfile"]:null,["extension.js-debug.toggleSkippingFile"]:null,["extension.node-debug.startWithStopOnEntry"]:null,["extension.js-debug.requestCDPProxy"]:null,["extension.js-debug.openEdgeDevTools"]:null,["extension.js-debug.callers.add"]:null,["extension.js-debug.callers.goToCaller"]:null,["extension.js-debug.callers.gotToTarget"]:null,["extension.js-debug.callers.remove"]:null,["extension.js-debug.callers.removeAll"]:null,["extension.js-debug.enableSourceMapStepping"]:null,["extension.js-debug.disableSourceMapStepping"]:null},Eu=new Set(Object.keys(ui)),Tu=new Set(Object.keys(ai));var rr=D("child_process");var ha=le(yn(),1),ga=le(qt(),1),ma=le(Gt(),1),_a=le(Zt(),1),ya=le(ys(),1);var Ba=le(Rs());var Qu=Symbol("unset");var Xu=2**31-1;var Ma=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Fa=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),cl=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ma});var tr=(e,t)=>e+Math.floor(Math.random()*(t-e));function As({min:e=53e3,max:t=54e3,attempts:r=1e3}={}){let n=Ha(),s=tr(e,t);for(let o=Math.min(r,t-e);o>=0;o--){if(n(s))return s;s=s===t-1?e:s+1}throw new Error("No open port found")}var Ha=()=>{let e=n=>{var o;let s=(0,rr.spawnSync)("nc",["-z","127.0.0.1",String(n)]);return((o=s.error)==null?void 0:o.code)==="ENOENT"&&(r=t),s.status===1},t=n=>(0,rr.spawnSync)(process.execPath,["-e",'require("net").createServer().on("listening",()=>process.exit(0)).on("error",()=>process.exit(1)).listen(+process.env.PORT)'],{env:{...process.env,PORT:String(n),NODE_OPTIONS:void 0,ELECTRON_RUN_AS_NODE:"1"}}).status===0,r=process.platform==="win32"?t:e;return n=>r(n)};var $a=new Set(["mocha","jest","jest-cli","ava","tape","tap","ts-node","babel-node"]),ws="$KNOWN_TOOLS$",Os=`{${[...$a].join(",")}}`;var ja={["runtime"]:null,["runtime.sourcecreate"]:null,["runtime.assertion"]:null,["runtime.launch"]:null,["runtime.target"]:null,["runtime.welcome"]:null,["runtime.exception"]:null,["runtime.sourcemap"]:null,["runtime.breakpoints"]:null,["sourcemap.parsing"]:null,["perf.function"]:null,["cdp.send"]:null,["cdp.receive"]:null,["dap.send"]:null,["dap.receive"]:null,["internal"]:null,["proxyActivity"]:null},Ol=Object.keys(ja),kl=Symbol("ILogger");var Ua=":::",dt=class{constructor(t){this.processEnv=t}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(t){t===void 0?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=t}get inspectorOptions(){let t=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!t)return;let r=t.split(Ua).find(n=>!!n);if(r)try{return JSON.parse(r)}catch(n){return}}set inspectorOptions(t){t===void 0?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(t)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(t,r){let n=this.inspectorOptions;n&&(this.inspectorOptions={...n,[t]:r})}};var nr=D("path");var ks=D("crypto"),Ye=D("fs"),Ps=D("os"),Is=le(D("path")),ht=class{constructor(){this.disposed=!1;this.path=Is.join((0,Ps.tmpdir)(),`node-debug-callback-${(0,ks.randomBytes)(8).toString("hex")}`);this.file=Ye.promises.open(this.path,"w")}static isValid(t){try{let r=(0,Ye.readFileSync)(t);return r.length?r.readDoubleBE()>Date.now()-ht.recencyDeadline:!1}catch(r){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),ht.updateInterval))}async touch(t=()=>Date.now()){let r=await this.file,n=Buffer.alloc(8);n.writeDoubleBE(t()),await r.write(n,0,n.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{await(await this.file).close(),await Ye.promises.unlink(this.path)}catch(t){}}}},Be=ht;Be.updateInterval=1e3,Be.recencyDeadline=2e3;var ge={enabled:!1,info:(...e)=>{ge.enabled&&console.log(...e)}};var Ga=e=>!e||!e.inspectorIpc?(ge.info("runtime.launch","Disabling due to lack of IPC server"),!1):!0,Va=e=>{let t=e.requireLease;return t&&!Be.isValid(t)?(ge.info("runtime.launch","Disabling due to invalid lease file"),!1):!0},Wa=()=>typeof window!="undefined"?(ge.info("runtime.launch","Disabling in Electron (window is set)"),!1):!0,Ka=e=>{let t="";try{t=D.resolve(process.argv[1])}catch(n){t=process.argv[1]}let r;try{r=new RegExp(e.waitForDebugger||"").test(t)}catch(n){r=!0}return r||ge.info("runtime.launch","Disabling due to not matching pattern",{pattern:e.waitForDebugger,scriptName:t}),r},za=()=>{let e=process.argv;return!(e.length===4&&(0,nr.basename)(e[1])==="npm-cli.js"&&e[2]==="prefix"&&e[3]==="-g")},Qa=e=>!(e.deferredMode&&process.argv.length>=2&&(0,nr.basename)(process.argv[1])==="node-gyp.js"),Xa=[Qa,Ga,Va,Wa,Ka,za],Ns=e=>!!e&&!Xa.some(t=>!t(e));var sr=D("path"),Ls=(0,sr.join)(__dirname,"watchdog.js"),$l=(0,sr.join)(__dirname,"bootloader.js");var Ds=D("crypto"),Bs=()=>(0,Ds.randomBytes)(12).toString("hex");var Hs={cwd:process.cwd(),processId:process.pid,nodeVersion:process.version,architecture:process.arch},Ms="$jsDebugIsRegistered";(()=>{try{if(Ms in global)return;let e=new dt(process.env),t=e.inspectorOptions;if(ge.enabled=!!(t!=null&&t.verbose),ge.info("runtime.launch","Bootloader imported",{env:t,args:process.argv}),Object.defineProperty(global,Ms,{value:!0,enumerable:!1}),!Ns(t)){e.unsetForTree();return}try{if(!D("worker_threads").isMainThread)return}catch(s){}nu(e),/(\\|\/|^)node(64)?(.exe)?$/.test(process.execPath)&&(t.execPath=process.execPath);let r=Bs(),n=Ya(t,r);t.onlyEntrypoint?e.unsetForTree():n&&e.updateInspectorOption("openerId",r)}catch(e){console.error(`Error in the js-debug bootloader, please report to https://aka.ms/js-dbg-issue: ${e.stack}`)}})();function Ya(e,t){let r=ru(e.inspectorIpc)?e.deferredMode?1:0:2;if(ge.info("runtime","Set debug mode",{mode:r}),r===2)return!1;let n=Ae.url()!==void 0;if(!n){if(!Ja(e))return!1;Ae.open(Za(e),void 0,!1)}let s={ipcAddress:e.inspectorIpc||"",pid:String(process.pid),telemetry:Hs,scriptName:process.argv[1],inspectorURL:Ae.url(),waitForDebugger:!0,ownId:t,openerId:e.openerId};if(r===0)su(e.execPath||process.execPath,s);else{let{status:i,stderr:a}=(0,gt.spawnSync)(e.execPath||process.execPath,["-e",'const c=require("net").createConnection(process.env.NODE_INSPECTOR_IPC);setTimeout(()=>{console.error("timeout"),process.exit(1)},10000),c.on("error",e=>{console.error(e),process.exit(1)}),c.on("connect",()=>{c.write(process.env.NODE_INSPECTOR_INFO,"utf-8"),c.write(Buffer.from([0])),c.on("data",e=>{console.error("read byte",e[0]),process.exit(e[0])})});'],{env:{NODE_SKIP_PLATFORM_CHECK:process.env.NODE_SKIP_PLATFORM_CHECK,NODE_INSPECTOR_INFO:JSON.stringify(s),NODE_INSPECTOR_IPC:e.inspectorIpc}});if(i)return console.error(a.toString()),console.error("Error activating auto attach, please report to https://aka.ms/js-dbg-issue"),!1}let o=Ae;return o.waitForDebugger?o.waitForDebugger():Ae.open(n?void 0:0,void 0,!0),!0}function Za(e){if(!e.mandatePortTracking)return 0;try{return As({attempts:20})}catch(t){return 0}}function Ja(e){switch(e.autoAttachMode){case"always":return!0;case"smart":return eu(e);case"onlyWithFlag":default:return!1}}function eu(e){let t=process.argv[1];return t?tu(t,e):!0}function tu(e,t){return t.aaPatterns?(0,Fs.default)([e.replace(/\\/g,"/")],[...t.aaPatterns.map(n=>n.replace(ws,Os))],{dot:!0,nocase:!0}).length>0:!1}function ru(e){if(!e)return!1;try{return mt.readdirSync(_t.dirname(e)).includes(_t.basename(e))}catch(t){return!1}}function nu(e){var r;let t=(r=e.inspectorOptions)==null?void 0:r.fileCallback;t&&(mt.writeFileSync(t,JSON.stringify(Hs)),e.updateInspectorOption("fileCallback",void 0))}function su(e,t){let r=(0,gt.spawn)(e,[Ls],{env:{NODE_INSPECTOR_INFO:JSON.stringify(t),NODE_SKIP_PLATFORM_CHECK:process.env.NODE_SKIP_PLATFORM_CHECK},stdio:"ignore",detached:!0});return r.unref(),r}})();
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=bootloader.js.map

//# sourceURL=bootloader.bundle.cdp