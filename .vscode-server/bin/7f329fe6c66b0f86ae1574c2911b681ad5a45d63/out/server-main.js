"use strict";var __getOwnPropNames=Object.getOwnPropertyNames,__commonJS=(R,E)=>function(){return E||(0,R[__getOwnPropNames(R)[0]])((E={exports:{}}).exports,E),E.exports},require_performance=__commonJS({"out-build/vs/base/common/performance.js"(R,E){"use strict";(function(){function b(a){const f=[];typeof a=="number"&&f.push("code/timeOrigin",a);function v(h){f.push(h,Date.now())}function g(){const h=[];for(let n=0;n<f.length;n+=2)h.push({name:f[n],startTime:f[n+1]});return h}return{mark:v,getMarks:g}}function C(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?b():{mark(a){performance.mark(a)},getMarks(){let a=performance.timeOrigin;typeof a!="number"&&(a=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const f=[{name:"code/timeOrigin",startTime:Math.round(a)}];for(const v of performance.getEntriesByType("mark"))f.push({name:v.name,startTime:Math.round(a+v.startTime)});return f}};if(typeof process=="object"){const a=performance?.timeOrigin??Math.round((require.__$__nodeRequire||require)("perf_hooks").performance.timeOrigin);return b(a)}else return console.trace("perf-util loaded in UNKNOWN environment"),b()}function w(a){return a.MonacoPerformanceMarks||(a.MonacoPerformanceMarks=C()),a.MonacoPerformanceMarks}var y;typeof global=="object"?y=global:typeof self=="object"?y=self:y={},typeof define=="function"?define([],function(){return w(y)}):typeof E=="object"&&typeof E.exports=="object"?E.exports=w(y):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),y.perf=w(y))})()}}),require_bootstrap_node=__commonJS({"out-build/bootstrap-node.js"(R){"use strict";function E(){const b=require("path");try{typeof process.env.VSCODE_CWD!="string"&&(process.env.VSCODE_CWD=process.cwd()),process.platform==="win32"&&process.chdir(b.dirname(process.execPath))}catch(C){console.error(C)}}E(),R.injectNodeModuleLookupPath=function(b){if(!b)throw new Error("Missing injectPath");const C=require("module"),y=require("path").join(__dirname,"../node_modules"),a=C._resolveLookupPaths;C._resolveLookupPaths=function(f,v){const g=a(f,v);if(Array.isArray(g)){for(let h=0,n=g.length;h<n;h++)if(g[h]===y){g.splice(h,0,b);break}}return g}},R.removeGlobalNodeModuleLookupPaths=function(){const b=require("module"),C=b.globalPaths,w=b._resolveLookupPaths;b._resolveLookupPaths=function(y,a){const f=w(y,a);if(Array.isArray(f)){let v=0;for(;v<f.length&&f[f.length-1-v]===C[C.length-1-v];)v++;return f.slice(0,f.length-v)}return f}},R.configurePortable=function(b){const C=require("fs"),w=require("path"),y=w.dirname(__dirname);function a(d){return process.env.VSCODE_DEV?y:process.platform==="darwin"?d.dirname(d.dirname(d.dirname(y))):d.dirname(d.dirname(y))}function f(d){if(process.env.VSCODE_PORTABLE)return process.env.VSCODE_PORTABLE;if(process.platform==="win32"||process.platform==="linux")return d.join(a(d),"data");const u=b.portable||`${b.applicationName}-portable-data`;return d.join(d.dirname(a(d)),u)}const v=f(w),g=!("target"in b)&&C.existsSync(v),h=w.join(v,"tmp"),n=g&&C.existsSync(h);return g?process.env.VSCODE_PORTABLE=v:delete process.env.VSCODE_PORTABLE,n&&(process.platform==="win32"?(process.env.TMP=h,process.env.TEMP=h):process.env.TMPDIR=h),{portableDataPath:v,isPortable:g}}}}),require_loader=__commonJS({"out-build/vs/loader.js"(R,E){"use strict";var b=R,C=typeof global=="object"?global:{},y;(function(a){a.global=b;class f{get isWindows(){return this._detect(),this._isWindows}get isNode(){return this._detect(),this._isNode}get isElectronRenderer(){return this._detect(),this._isElectronRenderer}get isWebWorker(){return this._detect(),this._isWebWorker}get isElectronNodeIntegrationWebWorker(){return this._detect(),this._isElectronNodeIntegrationWebWorker}constructor(){this._detected=!1,this._isWindows=!1,this._isNode=!1,this._isElectronRenderer=!1,this._isWebWorker=!1,this._isElectronNodeIntegrationWebWorker=!1}_detect(){this._detected||(this._detected=!0,this._isWindows=f._isWindows(),this._isNode=typeof E<"u"&&!!E.exports,this._isElectronRenderer=typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.electron<"u"&&process.type==="renderer",this._isWebWorker=typeof a.global.importScripts=="function",this._isElectronNodeIntegrationWebWorker=this._isWebWorker&&typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.electron<"u"&&process.type==="worker")}static _isWindows(){return typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.indexOf("Windows")>=0?!0:typeof process<"u"?process.platform==="win32":!1}}a.Environment=f})(y||(y={}));var y;(function(a){class f{constructor(n,d,u){this.type=n,this.detail=d,this.timestamp=u}}a.LoaderEvent=f;class v{constructor(n){this._events=[new f(1,"",n)]}record(n,d){this._events.push(new f(n,d,a.Utilities.getHighPerformanceTimestamp()))}getEvents(){return this._events}}a.LoaderEventRecorder=v;class g{record(n,d){}getEvents(){return[]}}g.INSTANCE=new g,a.NullLoaderEventRecorder=g})(y||(y={}));var y;(function(a){class f{static fileUriToFilePath(g,h){if(h=decodeURI(h).replace(/%23/g,"#"),g){if(/^file:\/\/\//.test(h))return h.substr(8);if(/^file:\/\//.test(h))return h.substr(5)}else if(/^file:\/\//.test(h))return h.substr(7);return h}static startsWith(g,h){return g.length>=h.length&&g.substr(0,h.length)===h}static endsWith(g,h){return g.length>=h.length&&g.substr(g.length-h.length)===h}static containsQueryString(g){return/^[^\#]*\?/gi.test(g)}static isAbsolutePath(g){return/^((http:\/\/)|(https:\/\/)|(file:\/\/)|(\/))/.test(g)}static forEachProperty(g,h){if(g){let n;for(n in g)g.hasOwnProperty(n)&&h(n,g[n])}}static isEmpty(g){let h=!0;return f.forEachProperty(g,()=>{h=!1}),h}static recursiveClone(g){if(!g||typeof g!="object"||g instanceof RegExp||!Array.isArray(g)&&Object.getPrototypeOf(g)!==Object.prototype)return g;let h=Array.isArray(g)?[]:{};return f.forEachProperty(g,(n,d)=>{d&&typeof d=="object"?h[n]=f.recursiveClone(d):h[n]=d}),h}static generateAnonymousModule(){return"===anonymous"+f.NEXT_ANONYMOUS_ID+++"==="}static isAnonymousModule(g){return f.startsWith(g,"===anonymous")}static getHighPerformanceTimestamp(){return this.PERFORMANCE_NOW_PROBED||(this.PERFORMANCE_NOW_PROBED=!0,this.HAS_PERFORMANCE_NOW=a.global.performance&&typeof a.global.performance.now=="function"),this.HAS_PERFORMANCE_NOW?a.global.performance.now():Date.now()}}f.NEXT_ANONYMOUS_ID=1,f.PERFORMANCE_NOW_PROBED=!1,f.HAS_PERFORMANCE_NOW=!1,a.Utilities=f})(y||(y={}));var y;(function(a){function f(h){if(h instanceof Error)return h;const n=new Error(h.message||String(h)||"Unknown Error");return h.stack&&(n.stack=h.stack),n}a.ensureError=f;class v{static validateConfigurationOptions(n){function d(u){if(u.phase==="loading"){console.error('Loading "'+u.moduleId+'" failed'),console.error(u),console.error("Here are the modules that depend on it:"),console.error(u.neededBy);return}if(u.phase==="factory"){console.error('The factory function of "'+u.moduleId+'" has thrown an exception'),console.error(u),console.error("Here are the modules that depend on it:"),console.error(u.neededBy);return}}if(n=n||{},typeof n.baseUrl!="string"&&(n.baseUrl=""),typeof n.isBuild!="boolean"&&(n.isBuild=!1),typeof n.paths!="object"&&(n.paths={}),typeof n.config!="object"&&(n.config={}),typeof n.catchError>"u"&&(n.catchError=!1),typeof n.recordStats>"u"&&(n.recordStats=!1),typeof n.urlArgs!="string"&&(n.urlArgs=""),typeof n.onError!="function"&&(n.onError=d),Array.isArray(n.ignoreDuplicateModules)||(n.ignoreDuplicateModules=[]),n.baseUrl.length>0&&(a.Utilities.endsWith(n.baseUrl,"/")||(n.baseUrl+="/")),typeof n.cspNonce!="string"&&(n.cspNonce=""),typeof n.preferScriptTags>"u"&&(n.preferScriptTags=!1),n.nodeCachedData&&typeof n.nodeCachedData=="object"&&(typeof n.nodeCachedData.seed!="string"&&(n.nodeCachedData.seed="seed"),(typeof n.nodeCachedData.writeDelay!="number"||n.nodeCachedData.writeDelay<0)&&(n.nodeCachedData.writeDelay=1e3*7),!n.nodeCachedData.path||typeof n.nodeCachedData.path!="string")){const u=f(new Error("INVALID cached data configuration, 'path' MUST be set"));u.phase="configuration",n.onError(u),n.nodeCachedData=void 0}return n}static mergeConfigurationOptions(n=null,d=null){let u=a.Utilities.recursiveClone(d||{});return a.Utilities.forEachProperty(n,(t,e)=>{t==="ignoreDuplicateModules"&&typeof u.ignoreDuplicateModules<"u"?u.ignoreDuplicateModules=u.ignoreDuplicateModules.concat(e):t==="paths"&&typeof u.paths<"u"?a.Utilities.forEachProperty(e,(r,i)=>u.paths[r]=i):t==="config"&&typeof u.config<"u"?a.Utilities.forEachProperty(e,(r,i)=>u.config[r]=i):u[t]=a.Utilities.recursiveClone(e)}),v.validateConfigurationOptions(u)}}a.ConfigurationOptionsUtil=v;class g{constructor(n,d){if(this._env=n,this.options=v.mergeConfigurationOptions(d),this._createIgnoreDuplicateModulesMap(),this._createSortedPathsRules(),this.options.baseUrl===""&&this.options.nodeRequire&&this.options.nodeRequire.main&&this.options.nodeRequire.main.filename&&this._env.isNode){let u=this.options.nodeRequire.main.filename,t=Math.max(u.lastIndexOf("/"),u.lastIndexOf("\\"));this.options.baseUrl=u.substring(0,t+1)}}_createIgnoreDuplicateModulesMap(){this.ignoreDuplicateModulesMap={};for(let n=0;n<this.options.ignoreDuplicateModules.length;n++)this.ignoreDuplicateModulesMap[this.options.ignoreDuplicateModules[n]]=!0}_createSortedPathsRules(){this.sortedPathsRules=[],a.Utilities.forEachProperty(this.options.paths,(n,d)=>{Array.isArray(d)?this.sortedPathsRules.push({from:n,to:d}):this.sortedPathsRules.push({from:n,to:[d]})}),this.sortedPathsRules.sort((n,d)=>d.from.length-n.from.length)}cloneAndMerge(n){return new g(this._env,v.mergeConfigurationOptions(n,this.options))}getOptionsLiteral(){return this.options}_applyPaths(n){let d;for(let u=0,t=this.sortedPathsRules.length;u<t;u++)if(d=this.sortedPathsRules[u],a.Utilities.startsWith(n,d.from)){let e=[];for(let r=0,i=d.to.length;r<i;r++)e.push(d.to[r]+n.substr(d.from.length));return e}return[n]}_addUrlArgsToUrl(n){return a.Utilities.containsQueryString(n)?n+"&"+this.options.urlArgs:n+"?"+this.options.urlArgs}_addUrlArgsIfNecessaryToUrl(n){return this.options.urlArgs?this._addUrlArgsToUrl(n):n}_addUrlArgsIfNecessaryToUrls(n){if(this.options.urlArgs)for(let d=0,u=n.length;d<u;d++)n[d]=this._addUrlArgsToUrl(n[d]);return n}moduleIdToPaths(n){if(this._env.isNode&&this.options.amdModulesPattern instanceof RegExp&&!this.options.amdModulesPattern.test(n))return this.isBuild()?["empty:"]:["node|"+n];let d=n,u;if(!a.Utilities.endsWith(d,".js")&&!a.Utilities.isAbsolutePath(d)){u=this._applyPaths(d);for(let t=0,e=u.length;t<e;t++)this.isBuild()&&u[t]==="empty:"||(a.Utilities.isAbsolutePath(u[t])||(u[t]=this.options.baseUrl+u[t]),!a.Utilities.endsWith(u[t],".js")&&!a.Utilities.containsQueryString(u[t])&&(u[t]=u[t]+".js"))}else!a.Utilities.endsWith(d,".js")&&!a.Utilities.containsQueryString(d)&&(d=d+".js"),u=[d];return this._addUrlArgsIfNecessaryToUrls(u)}requireToUrl(n){let d=n;return a.Utilities.isAbsolutePath(d)||(d=this._applyPaths(d)[0],a.Utilities.isAbsolutePath(d)||(d=this.options.baseUrl+d)),this._addUrlArgsIfNecessaryToUrl(d)}isBuild(){return this.options.isBuild}shouldInvokeFactory(n){return!!(!this.options.isBuild||a.Utilities.isAnonymousModule(n)||this.options.buildForceInvokeFactory&&this.options.buildForceInvokeFactory[n])}isDuplicateMessageIgnoredFor(n){return this.ignoreDuplicateModulesMap.hasOwnProperty(n)}getConfigForModule(n){if(this.options.config)return this.options.config[n]}shouldCatchError(){return this.options.catchError}shouldRecordStats(){return this.options.recordStats}onError(n){this.options.onError(n)}}a.Configuration=g})(y||(y={}));var y;(function(a){class f{constructor(e){this._env=e,this._scriptLoader=null,this._callbackMap={}}load(e,r,i,s){if(!this._scriptLoader)if(this._env.isWebWorker)this._scriptLoader=new h;else if(this._env.isElectronRenderer){const{preferScriptTags:l}=e.getConfig().getOptionsLiteral();l?this._scriptLoader=new v:this._scriptLoader=new n(this._env)}else this._env.isNode?this._scriptLoader=new n(this._env):this._scriptLoader=new v;let c={callback:i,errorback:s};if(this._callbackMap.hasOwnProperty(r)){this._callbackMap[r].push(c);return}this._callbackMap[r]=[c],this._scriptLoader.load(e,r,()=>this.triggerCallback(r),l=>this.triggerErrorback(r,l))}triggerCallback(e){let r=this._callbackMap[e];delete this._callbackMap[e];for(let i=0;i<r.length;i++)r[i].callback()}triggerErrorback(e,r){let i=this._callbackMap[e];delete this._callbackMap[e];for(let s=0;s<i.length;s++)i[s].errorback(r)}}class v{attachListeners(e,r,i){let s=()=>{e.removeEventListener("load",c),e.removeEventListener("error",l)},c=o=>{s(),r()},l=o=>{s(),i(o)};e.addEventListener("load",c),e.addEventListener("error",l)}load(e,r,i,s){if(/^node\|/.test(r)){let c=e.getConfig().getOptionsLiteral(),l=d(e.getRecorder(),c.nodeRequire||a.global.nodeRequire),o=r.split("|"),p=null;try{p=l(o[1])}catch(_){s(_);return}e.enqueueDefineAnonymousModule([],()=>p),i()}else{let c=document.createElement("script");c.setAttribute("async","async"),c.setAttribute("type","text/javascript"),this.attachListeners(c,i,s);const{trustedTypesPolicy:l}=e.getConfig().getOptionsLiteral();l&&(r=l.createScriptURL(r)),c.setAttribute("src",r);const{cspNonce:o}=e.getConfig().getOptionsLiteral();o&&c.setAttribute("nonce",o),document.getElementsByTagName("head")[0].appendChild(c)}}}function g(t){const{trustedTypesPolicy:e}=t.getConfig().getOptionsLiteral();try{return(e?self.eval(e.createScript("","true")):new Function("true")).call(self),!0}catch{return!1}}class h{constructor(){this._cachedCanUseEval=null}_canUseEval(e){return this._cachedCanUseEval===null&&(this._cachedCanUseEval=g(e)),this._cachedCanUseEval}load(e,r,i,s){if(/^node\|/.test(r)){const c=e.getConfig().getOptionsLiteral(),l=d(e.getRecorder(),c.nodeRequire||a.global.nodeRequire),o=r.split("|");let p=null;try{p=l(o[1])}catch(_){s(_);return}e.enqueueDefineAnonymousModule([],function(){return p}),i()}else{const{trustedTypesPolicy:c}=e.getConfig().getOptionsLiteral();if(!(/^((http:)|(https:)|(file:))/.test(r)&&r.substring(0,self.origin.length)!==self.origin)&&this._canUseEval(e)){fetch(r).then(o=>{if(o.status!==200)throw new Error(o.statusText);return o.text()}).then(o=>{o=`${o}
//# sourceURL=${r}`,(c?self.eval(c.createScript("",o)):new Function(o)).call(self),i()}).then(void 0,s);return}try{c&&(r=c.createScriptURL(r)),importScripts(r),i()}catch(o){s(o)}}}}class n{constructor(e){this._env=e,this._didInitialize=!1,this._didPatchNodeRequire=!1}_init(e){this._didInitialize||(this._didInitialize=!0,this._fs=e("fs"),this._vm=e("vm"),this._path=e("path"),this._crypto=e("crypto"))}_initNodeRequire(e,r){const{nodeCachedData:i}=r.getConfig().getOptionsLiteral();if(!i||this._didPatchNodeRequire)return;this._didPatchNodeRequire=!0;const s=this,c=e("module");function l(o){const p=o.constructor;let _=function(P){try{return o.require(P)}finally{}};return _.resolve=function(P,I){return p._resolveFilename(P,o,!1,I)},_.resolve.paths=function(P){return p._resolveLookupPaths(P,o)},_.main=process.mainModule,_.extensions=p._extensions,_.cache=p._cache,_}c.prototype._compile=function(o,p){const _=c.wrap(o.replace(/^#!.*/,"")),m=r.getRecorder(),P=s._getCachedDataPath(i,p),I={filename:p};let D;try{const A=s._fs.readFileSync(P);D=A.slice(0,16),I.cachedData=A.slice(16),m.record(60,P)}catch{m.record(61,P)}const S=new s._vm.Script(_,I),O=S.runInThisContext(I),T=s._path.dirname(p),U=l(this),N=[this.exports,U,this,p,T,process,C,Buffer],k=O.apply(this.exports,N);return s._handleCachedData(S,_,P,!I.cachedData,r),s._verifyCachedData(S,_,P,D,r),k}}load(e,r,i,s){const c=e.getConfig().getOptionsLiteral(),l=d(e.getRecorder(),c.nodeRequire||a.global.nodeRequire),o=c.nodeInstrumenter||function(_){return _};this._init(l),this._initNodeRequire(l,e);let p=e.getRecorder();if(/^node\|/.test(r)){let _=r.split("|"),m=null;try{m=l(_[1])}catch(P){s(P);return}e.enqueueDefineAnonymousModule([],()=>m),i()}else{r=a.Utilities.fileUriToFilePath(this._env.isWindows,r);const _=this._path.normalize(r),m=this._getElectronRendererScriptPathOrUri(_),P=Boolean(c.nodeCachedData),I=P?this._getCachedDataPath(c.nodeCachedData,r):void 0;this._readSourceAndCachedData(_,I,p,(D,S,O,T)=>{if(D){s(D);return}let U;S.charCodeAt(0)===n._BOM?U=n._PREFIX+S.substring(1)+n._SUFFIX:U=n._PREFIX+S+n._SUFFIX,U=o(U,_);const N={filename:m,cachedData:O},k=this._createAndEvalScript(e,U,N,i,s);this._handleCachedData(k,U,I,P&&!O,e),this._verifyCachedData(k,U,I,T,e)})}}_createAndEvalScript(e,r,i,s,c){const l=e.getRecorder();l.record(31,i.filename);const o=new this._vm.Script(r,i),p=o.runInThisContext(i),_=e.getGlobalAMDDefineFunc();let m=!1;const P=function(){return m=!0,_.apply(null,arguments)};return P.amd=_.amd,p.call(a.global,e.getGlobalAMDRequireFunc(),P,i.filename,this._path.dirname(i.filename)),l.record(32,i.filename),m?s():c(new Error(`Didn't receive define call in ${i.filename}!`)),o}_getElectronRendererScriptPathOrUri(e){if(!this._env.isElectronRenderer)return e;let r=e.match(/^([a-z])\:(.*)/i);return r?`file:///${(r[1].toUpperCase()+":"+r[2]).replace(/\\/g,"/")}`:`file://${e}`}_getCachedDataPath(e,r){const i=this._crypto.createHash("md5").update(r,"utf8").update(e.seed,"utf8").update(process.arch,"").digest("hex"),s=this._path.basename(r).replace(/\.js$/,"");return this._path.join(e.path,`${s}-${i}.code`)}_handleCachedData(e,r,i,s,c){e.cachedDataRejected?this._fs.unlink(i,l=>{c.getRecorder().record(62,i),this._createAndWriteCachedData(e,r,i,c),l&&c.getConfig().onError(l)}):s&&this._createAndWriteCachedData(e,r,i,c)}_createAndWriteCachedData(e,r,i,s){let c=Math.ceil(s.getConfig().getOptionsLiteral().nodeCachedData.writeDelay*(1+Math.random())),l=-1,o=0,p;const _=()=>{setTimeout(()=>{p||(p=this._crypto.createHash("md5").update(r,"utf8").digest());const m=e.createCachedData();if(!(m.length===0||m.length===l||o>=5)){if(m.length<l){_();return}l=m.length,this._fs.writeFile(i,Buffer.concat([p,m]),P=>{P&&s.getConfig().onError(P),s.getRecorder().record(63,i),_()})}},c*Math.pow(4,o++))};_()}_readSourceAndCachedData(e,r,i,s){if(!r)this._fs.readFile(e,{encoding:"utf8"},s);else{let c,l,o,p=2;const _=m=>{m?s(m):--p===0&&s(void 0,c,l,o)};this._fs.readFile(e,{encoding:"utf8"},(m,P)=>{c=P,_(m)}),this._fs.readFile(r,(m,P)=>{!m&&P&&P.length>0?(o=P.slice(0,16),l=P.slice(16),i.record(60,r)):i.record(61,r),_()})}}_verifyCachedData(e,r,i,s,c){!s||e.cachedDataRejected||setTimeout(()=>{const l=this._crypto.createHash("md5").update(r,"utf8").digest();s.equals(l)||(c.getConfig().onError(new Error(`FAILED TO VERIFY CACHED DATA, deleting stale '${i}' now, but a RESTART IS REQUIRED`)),this._fs.unlink(i,o=>{o&&c.getConfig().onError(o)}))},Math.ceil(5e3*(1+Math.random())))}}n._BOM=65279,n._PREFIX="(function (require, define, __filename, __dirname) { ",n._SUFFIX=`
});`;function d(t,e){if(e.__$__isRecorded)return e;const r=function(s){t.record(33,s);try{return e(s)}finally{t.record(34,s)}};return r.__$__isRecorded=!0,r}a.ensureRecordedNodeRequire=d;function u(t){return new f(t)}a.createScriptLoader=u})(y||(y={}));var y;(function(a){class f{constructor(t){let e=t.lastIndexOf("/");e!==-1?this.fromModulePath=t.substr(0,e+1):this.fromModulePath=""}static _normalizeModuleId(t){let e=t,r;for(r=/\/\.\//;r.test(e);)e=e.replace(r,"/");for(e=e.replace(/^\.\//g,""),r=/\/(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//;r.test(e);)e=e.replace(r,"/");return e=e.replace(/^(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//,""),e}resolveModule(t){let e=t;return a.Utilities.isAbsolutePath(e)||(a.Utilities.startsWith(e,"./")||a.Utilities.startsWith(e,"../"))&&(e=f._normalizeModuleId(this.fromModulePath+e)),e}}f.ROOT=new f(""),a.ModuleIdResolver=f;class v{constructor(t,e,r,i,s,c){this.id=t,this.strId=e,this.dependencies=r,this._callback=i,this._errorback=s,this.moduleIdResolver=c,this.exports={},this.error=null,this.exportsPassedIn=!1,this.unresolvedDependenciesCount=this.dependencies.length,this._isComplete=!1}static _safeInvokeFunction(t,e){try{return{returnedValue:t.apply(a.global,e),producedError:null}}catch(r){return{returnedValue:null,producedError:r}}}static _invokeFactory(t,e,r,i){return t.shouldInvokeFactory(e)?t.shouldCatchError()?this._safeInvokeFunction(r,i):{returnedValue:r.apply(a.global,i),producedError:null}:{returnedValue:null,producedError:null}}complete(t,e,r,i){this._isComplete=!0;let s=null;if(this._callback)if(typeof this._callback=="function"){t.record(21,this.strId);let c=v._invokeFactory(e,this.strId,this._callback,r);s=c.producedError,t.record(22,this.strId),!s&&typeof c.returnedValue<"u"&&(!this.exportsPassedIn||a.Utilities.isEmpty(this.exports))&&(this.exports=c.returnedValue)}else this.exports=this._callback;if(s){let c=a.ensureError(s);c.phase="factory",c.moduleId=this.strId,c.neededBy=i(this.id),this.error=c,e.onError(c)}this.dependencies=null,this._callback=null,this._errorback=null,this.moduleIdResolver=null}onDependencyError(t){return this._isComplete=!0,this.error=t,this._errorback?(this._errorback(t),!0):!1}isComplete(){return this._isComplete}}a.Module=v;class g{constructor(){this._nextId=0,this._strModuleIdToIntModuleId=new Map,this._intModuleIdToStrModuleId=[],this.getModuleId("exports"),this.getModuleId("module"),this.getModuleId("require")}getMaxModuleId(){return this._nextId}getModuleId(t){let e=this._strModuleIdToIntModuleId.get(t);return typeof e>"u"&&(e=this._nextId++,this._strModuleIdToIntModuleId.set(t,e),this._intModuleIdToStrModuleId[e]=t),e}getStrModuleId(t){return this._intModuleIdToStrModuleId[t]}}class h{constructor(t){this.id=t}}h.EXPORTS=new h(0),h.MODULE=new h(1),h.REQUIRE=new h(2),a.RegularDependency=h;class n{constructor(t,e,r){this.id=t,this.pluginId=e,this.pluginParam=r}}a.PluginDependency=n;class d{constructor(t,e,r,i,s=0){this._env=t,this._scriptLoader=e,this._loaderAvailableTimestamp=s,this._defineFunc=r,this._requireFunc=i,this._moduleIdProvider=new g,this._config=new a.Configuration(this._env),this._hasDependencyCycle=!1,this._modules2=[],this._knownModules2=[],this._inverseDependencies2=[],this._inversePluginDependencies2=new Map,this._currentAnonymousDefineCall=null,this._recorder=null,this._buildInfoPath=[],this._buildInfoDefineStack=[],this._buildInfoDependencies=[]}reset(){return new d(this._env,this._scriptLoader,this._defineFunc,this._requireFunc,this._loaderAvailableTimestamp)}getGlobalAMDDefineFunc(){return this._defineFunc}getGlobalAMDRequireFunc(){return this._requireFunc}static _findRelevantLocationInStack(t,e){let r=c=>c.replace(/\\/g,"/"),i=r(t),s=e.split(/\n/);for(let c=0;c<s.length;c++){let l=s[c].match(/(.*):(\d+):(\d+)\)?$/);if(l){let o=l[1],p=l[2],_=l[3],m=Math.max(o.lastIndexOf(" ")+1,o.lastIndexOf("(")+1);if(o=o.substr(m),o=r(o),o===i){let P={line:parseInt(p,10),col:parseInt(_,10)};return P.line===1&&(P.col-=53),P}}}throw new Error("Could not correlate define call site for needle "+t)}getBuildInfo(){if(!this._config.isBuild())return null;let t=[],e=0;for(let r=0,i=this._modules2.length;r<i;r++){let s=this._modules2[r];if(!s)continue;let c=this._buildInfoPath[s.id]||null,l=this._buildInfoDefineStack[s.id]||null,o=this._buildInfoDependencies[s.id];t[e++]={id:s.strId,path:c,defineLocation:c&&l?d._findRelevantLocationInStack(c,l):null,dependencies:o,shim:null,exports:s.exports}}return t}getRecorder(){return this._recorder||(this._config.shouldRecordStats()?this._recorder=new a.LoaderEventRecorder(this._loaderAvailableTimestamp):this._recorder=a.NullLoaderEventRecorder.INSTANCE),this._recorder}getLoaderEvents(){return this.getRecorder().getEvents()}enqueueDefineAnonymousModule(t,e){if(this._currentAnonymousDefineCall!==null)throw new Error("Can only have one anonymous define call per script file");let r=null;this._config.isBuild()&&(r=new Error("StackLocation").stack||null),this._currentAnonymousDefineCall={stack:r,dependencies:t,callback:e}}defineModule(t,e,r,i,s,c=new f(t)){let l=this._moduleIdProvider.getModuleId(t);if(this._modules2[l]){this._config.isDuplicateMessageIgnoredFor(t)||console.warn("Duplicate definition of module '"+t+"'");return}let o=new v(l,t,this._normalizeDependencies(e,c),r,i,c);this._modules2[l]=o,this._config.isBuild()&&(this._buildInfoDefineStack[l]=s,this._buildInfoDependencies[l]=(o.dependencies||[]).map(p=>this._moduleIdProvider.getStrModuleId(p.id))),this._resolve(o)}_normalizeDependency(t,e){if(t==="exports")return h.EXPORTS;if(t==="module")return h.MODULE;if(t==="require")return h.REQUIRE;let r=t.indexOf("!");if(r>=0){let i=e.resolveModule(t.substr(0,r)),s=e.resolveModule(t.substr(r+1)),c=this._moduleIdProvider.getModuleId(i+"!"+s),l=this._moduleIdProvider.getModuleId(i);return new n(c,l,s)}return new h(this._moduleIdProvider.getModuleId(e.resolveModule(t)))}_normalizeDependencies(t,e){let r=[],i=0;for(let s=0,c=t.length;s<c;s++)r[i++]=this._normalizeDependency(t[s],e);return r}_relativeRequire(t,e,r,i){if(typeof e=="string")return this.synchronousRequire(e,t);this.defineModule(a.Utilities.generateAnonymousModule(),e,r,i,null,t)}synchronousRequire(t,e=new f(t)){let r=this._normalizeDependency(t,e),i=this._modules2[r.id];if(!i)throw new Error("Check dependency list! Synchronous require cannot resolve module '"+t+"'. This is the first mention of this module!");if(!i.isComplete())throw new Error("Check dependency list! Synchronous require cannot resolve module '"+t+"'. This module has not been resolved completely yet.");if(i.error)throw i.error;return i.exports}configure(t,e){let r=this._config.shouldRecordStats();e?this._config=new a.Configuration(this._env,t):this._config=this._config.cloneAndMerge(t),this._config.shouldRecordStats()&&!r&&(this._recorder=null)}getConfig(){return this._config}_onLoad(t){if(this._currentAnonymousDefineCall!==null){let e=this._currentAnonymousDefineCall;this._currentAnonymousDefineCall=null,this.defineModule(this._moduleIdProvider.getStrModuleId(t),e.dependencies,e.callback,null,e.stack)}}_createLoadError(t,e){let r=this._moduleIdProvider.getStrModuleId(t),i=(this._inverseDependencies2[t]||[]).map(c=>this._moduleIdProvider.getStrModuleId(c));const s=a.ensureError(e);return s.phase="loading",s.moduleId=r,s.neededBy=i,s}_onLoadError(t,e){const r=this._createLoadError(t,e);this._modules2[t]||(this._modules2[t]=new v(t,this._moduleIdProvider.getStrModuleId(t),[],()=>{},null,null));let i=[];for(let l=0,o=this._moduleIdProvider.getMaxModuleId();l<o;l++)i[l]=!1;let s=!1,c=[];for(c.push(t),i[t]=!0;c.length>0;){let l=c.shift(),o=this._modules2[l];o&&(s=o.onDependencyError(r)||s);let p=this._inverseDependencies2[l];if(p)for(let _=0,m=p.length;_<m;_++){let P=p[_];i[P]||(c.push(P),i[P]=!0)}}s||this._config.onError(r)}_hasDependencyPath(t,e){let r=this._modules2[t];if(!r)return!1;let i=[];for(let c=0,l=this._moduleIdProvider.getMaxModuleId();c<l;c++)i[c]=!1;let s=[];for(s.push(r),i[t]=!0;s.length>0;){let l=s.shift().dependencies;if(l)for(let o=0,p=l.length;o<p;o++){let _=l[o];if(_.id===e)return!0;let m=this._modules2[_.id];m&&!i[_.id]&&(i[_.id]=!0,s.push(m))}}return!1}_findCyclePath(t,e,r){if(t===e||r===50)return[t];let i=this._modules2[t];if(!i)return null;let s=i.dependencies;if(s)for(let c=0,l=s.length;c<l;c++){let o=this._findCyclePath(s[c].id,e,r+1);if(o!==null)return o.push(t),o}return null}_createRequire(t){let e=(r,i,s)=>this._relativeRequire(t,r,i,s);return e.toUrl=r=>this._config.requireToUrl(t.resolveModule(r)),e.getStats=()=>this.getLoaderEvents(),e.hasDependencyCycle=()=>this._hasDependencyCycle,e.config=(r,i=!1)=>{this.configure(r,i)},e.__$__nodeRequire=a.global.nodeRequire,e}_loadModule(t){if(this._modules2[t]||this._knownModules2[t])return;this._knownModules2[t]=!0;let e=this._moduleIdProvider.getStrModuleId(t),r=this._config.moduleIdToPaths(e),i=/^@[^\/]+\/[^\/]+$/;this._env.isNode&&(e.indexOf("/")===-1||i.test(e))&&r.push("node|"+e);let s=-1,c=l=>{if(s++,s>=r.length)this._onLoadError(t,l);else{let o=r[s],p=this.getRecorder();if(this._config.isBuild()&&o==="empty:"){this._buildInfoPath[t]=o,this.defineModule(this._moduleIdProvider.getStrModuleId(t),[],null,null,null),this._onLoad(t);return}p.record(10,o),this._scriptLoader.load(this,o,()=>{this._config.isBuild()&&(this._buildInfoPath[t]=o),p.record(11,o),this._onLoad(t)},_=>{p.record(12,o),c(_)})}};c(null)}_loadPluginDependency(t,e){if(this._modules2[e.id]||this._knownModules2[e.id])return;this._knownModules2[e.id]=!0;let r=i=>{this.defineModule(this._moduleIdProvider.getStrModuleId(e.id),[],i,null,null)};r.error=i=>{this._config.onError(this._createLoadError(e.id,i))},t.load(e.pluginParam,this._createRequire(f.ROOT),r,this._config.getOptionsLiteral())}_resolve(t){let e=t.dependencies;if(e)for(let r=0,i=e.length;r<i;r++){let s=e[r];if(s===h.EXPORTS){t.exportsPassedIn=!0,t.unresolvedDependenciesCount--;continue}if(s===h.MODULE){t.unresolvedDependenciesCount--;continue}if(s===h.REQUIRE){t.unresolvedDependenciesCount--;continue}let c=this._modules2[s.id];if(c&&c.isComplete()){if(c.error){t.onDependencyError(c.error);return}t.unresolvedDependenciesCount--;continue}if(this._hasDependencyPath(s.id,t.id)){this._hasDependencyCycle=!0,console.warn("There is a dependency cycle between '"+this._moduleIdProvider.getStrModuleId(s.id)+"' and '"+this._moduleIdProvider.getStrModuleId(t.id)+"'. The cyclic path follows:");let l=this._findCyclePath(s.id,t.id,0)||[];l.reverse(),l.push(s.id),console.warn(l.map(o=>this._moduleIdProvider.getStrModuleId(o)).join(` => 
`)),t.unresolvedDependenciesCount--;continue}if(this._inverseDependencies2[s.id]=this._inverseDependencies2[s.id]||[],this._inverseDependencies2[s.id].push(t.id),s instanceof n){let l=this._modules2[s.pluginId];if(l&&l.isComplete()){this._loadPluginDependency(l.exports,s);continue}let o=this._inversePluginDependencies2.get(s.pluginId);o||(o=[],this._inversePluginDependencies2.set(s.pluginId,o)),o.push(s),this._loadModule(s.pluginId);continue}this._loadModule(s.id)}t.unresolvedDependenciesCount===0&&this._onModuleComplete(t)}_onModuleComplete(t){let e=this.getRecorder();if(t.isComplete())return;let r=t.dependencies,i=[];if(r)for(let o=0,p=r.length;o<p;o++){let _=r[o];if(_===h.EXPORTS){i[o]=t.exports;continue}if(_===h.MODULE){i[o]={id:t.strId,config:()=>this._config.getConfigForModule(t.strId)};continue}if(_===h.REQUIRE){i[o]=this._createRequire(t.moduleIdResolver);continue}let m=this._modules2[_.id];if(m){i[o]=m.exports;continue}i[o]=null}const s=o=>(this._inverseDependencies2[o]||[]).map(p=>this._moduleIdProvider.getStrModuleId(p));t.complete(e,this._config,i,s);let c=this._inverseDependencies2[t.id];if(this._inverseDependencies2[t.id]=null,c)for(let o=0,p=c.length;o<p;o++){let _=c[o],m=this._modules2[_];m.unresolvedDependenciesCount--,m.unresolvedDependenciesCount===0&&this._onModuleComplete(m)}let l=this._inversePluginDependencies2.get(t.id);if(l){this._inversePluginDependencies2.delete(t.id);for(let o=0,p=l.length;o<p;o++)this._loadPluginDependency(t.exports,l[o])}}}a.ModuleManager=d})(y||(y={}));var w,y;(function(a){const f=new a.Environment;let v=null;const g=function(u,t,e){typeof u!="string"&&(e=t,t=u,u=null),(typeof t!="object"||!Array.isArray(t))&&(e=t,t=null),t||(t=["require","exports","module"]),u?v.defineModule(u,t,e,null,null):v.enqueueDefineAnonymousModule(t,e)};g.amd={jQuery:!0};const h=function(u,t=!1){v.configure(u,t)},n=function(){if(arguments.length===1){if(arguments[0]instanceof Object&&!Array.isArray(arguments[0])){h(arguments[0]);return}if(typeof arguments[0]=="string")return v.synchronousRequire(arguments[0])}if((arguments.length===2||arguments.length===3)&&Array.isArray(arguments[0])){v.defineModule(a.Utilities.generateAnonymousModule(),arguments[0],arguments[1],arguments[2],null);return}throw new Error("Unrecognized require call")};n.config=h,n.getConfig=function(){return v.getConfig().getOptionsLiteral()},n.reset=function(){v=v.reset()},n.getBuildInfo=function(){return v.getBuildInfo()},n.getStats=function(){return v.getLoaderEvents()},n.define=g;function d(){if(typeof a.global.require<"u"||typeof require<"u"){const u=a.global.require||require;if(typeof u=="function"&&typeof u.resolve=="function"){const t=a.ensureRecordedNodeRequire(v.getRecorder(),u);a.global.nodeRequire=t,n.nodeRequire=t,n.__$__nodeRequire=t}}f.isNode&&!f.isElectronRenderer&&!f.isElectronNodeIntegrationWebWorker?E.exports=n:(f.isElectronRenderer||(a.global.define=g),a.global.require=n)}a.init=d,(typeof a.global.define!="function"||!a.global.define.amd)&&(v=new a.ModuleManager(f,a.createScriptLoader(f),g,n,a.Utilities.getHighPerformanceTimestamp()),typeof a.global.require<"u"&&typeof a.global.require!="function"&&n.config(a.global.require),w=function(){return g.apply(null,arguments)},w.amd=g.amd,typeof doNotInitLoader>"u"&&d())})(y||(y={})),w("vs/css",["require","exports"],function(a,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.load=void 0;function v(u,t,e,r){if(r=r||{},(r["vs/css"]||{}).disabled){e({});return}const s=t.toUrl(u+".css");g(u,s,()=>{e({})},c=>{typeof e.error=="function"&&e.error("Could not find "+s+".")})}f.load=v;function g(u,t,e,r){if(h(u,t)){e();return}n(u,t,e,r)}function h(u,t){const e=document.getElementsByTagName("link");for(let r=0,i=e.length;r<i;r++){const s=e[r].getAttribute("data-name"),c=e[r].getAttribute("href");if(s===u||c===t)return!0}return!1}function n(u,t,e,r){const i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("data-name",u),d(u,i,e,r),i.setAttribute("href",t),(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}function d(u,t,e,r){const i=()=>{t.removeEventListener("load",s),t.removeEventListener("error",c)},s=l=>{i(),e()},c=l=>{i(),r(l)};t.addEventListener("load",s),t.addEventListener("error",c)}}),w("vs/nls",["require","exports"],function(a,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.load=f.create=f.setPseudoTranslation=f.getConfiguredDefaultLocale=f.localize=void 0;let v=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const g="i-default";function h(l,o){let p;return o.length===0?p=l:p=l.replace(/\{(\d+)\}/g,(_,m)=>{const P=m[0],I=o[P];let D=_;return typeof I=="string"?D=I:(typeof I=="number"||typeof I=="boolean"||I===void 0||I===null)&&(D=String(I)),D}),v&&(p="\uFF3B"+p.replace(/[aouei]/g,"$&$&")+"\uFF3D"),p}function n(l,o){let p=l[o];return p||(p=l["*"],p)?p:null}function d(l){return l.charAt(l.length-1)==="/"?l:l+"/"}async function u(l,o,p){const _=d(l)+d(o)+"vscode/"+d(p),m=await fetch(_);if(m.ok)return await m.json();throw new Error(`${m.status} - ${m.statusText}`)}function t(l){return function(o,p){const _=Array.prototype.slice.call(arguments,2);return h(l[o],_)}}function e(l,o,...p){return h(o,p)}f.localize=e;function r(l){}f.getConfiguredDefaultLocale=r;function i(l){v=l}f.setPseudoTranslation=i;function s(l,o){return{localize:t(o[l]),getConfiguredDefaultLocale:o.getConfiguredDefaultLocale??(p=>{})}}f.create=s;function c(l,o,p,_){const m=_["vs/nls"]??{};if(!l||l.length===0)return p({localize:e,getConfiguredDefaultLocale:()=>m.availableLanguages?.["*"]});const P=m.availableLanguages?n(m.availableLanguages,l):null,I=P===null||P===g;let D=".nls";I||(D=D+"."+P);const S=O=>{Array.isArray(O)?O.localize=t(O):O.localize=t(O[l]),O.getConfiguredDefaultLocale=()=>m.availableLanguages?.["*"],p(O)};typeof m.loadBundle=="function"?m.loadBundle(l,P,(O,T)=>{O?o([l+".nls"],S):S(T)}):m.translationServiceUrl&&!I?(async()=>{try{const O=await u(m.translationServiceUrl,P,l);return S(O)}catch(O){if(!P.includes("-"))return console.error(O),o([l+".nls"],S);try{const T=P.split("-")[0],U=await u(m.translationServiceUrl,T,l);return m.availableLanguages??={},m.availableLanguages["*"]=T,S(U)}catch(T){return console.error(T),o([l+".nls"],S)}}})():o([l+D],S,O=>{if(D===".nls"){console.error("Failed trying to load default language strings",O);return}console.error(`Failed to load message bundle for language ${P}. Falling back to the default language:`,O),o([l+".nls"],S)})}f.load=c})}}),require_bootstrap=__commonJS({"out-build/bootstrap.js"(R,E){"use strict";(function(b,C){typeof R=="object"?E.exports=C():b.MonacoBootstrap=C()})(R,function(){const b=typeof require=="function"?require("module"):void 0,C=typeof require=="function"?require("path"):void 0,w=typeof require=="function"?require("fs"):void 0;if(Error.stackTraceLimit=100,typeof process<"u"&&!process.env.VSCODE_HANDLES_SIGPIPE){let u=!1;process.on("SIGPIPE",()=>{u||(u=!0,console.error(new Error("Unexpected SIGPIPE")))})}function y(u){if(!C||!b||typeof process>"u"){console.warn("enableASARSupport() is only available in node.js environments");return}const t=u?C.join(u,"node_modules"):C.join(__dirname,"../node_modules");let e;if(u&&process.platform==="win32"){const c=u.substr(0,1);let l;c.toLowerCase()!==c?l=c.toLowerCase():l=c.toUpperCase(),e=l+t.substr(1)}else e=void 0;const r=`${t}.asar`,i=e?`${e}.asar`:void 0,s=b._resolveLookupPaths;b._resolveLookupPaths=function(c,l){const o=s(c,l);if(Array.isArray(o)){let p=!1;for(let _=0,m=o.length;_<m;_++)if(o[_]===t){p=!0,o.splice(_,0,r);break}else if(o[_]===e){p=!0,o.splice(_,0,i);break}!p&&u&&o.push(r)}return o}}function a(u,t){let e=u.replace(/\\/g,"/");e.length>0&&e.charAt(0)!=="/"&&(e=`/${e}`);let r;return t.isWindows&&e.startsWith("//")?r=encodeURI(`${t.scheme||"file"}:${e}`):r=encodeURI(`${t.scheme||"file"}://${t.fallbackAuthority||""}${e}`),r.replace(/#/g,"%23")}function f(){const u=g();let t={availableLanguages:{}};if(u&&u.env.VSCODE_NLS_CONFIG)try{t=JSON.parse(u.env.VSCODE_NLS_CONFIG)}catch{}if(t._resolvedLanguagePackCoreLocation){const e=Object.create(null);t.loadBundle=function(r,i,s){const c=e[r];if(c){s(void 0,c);return}n(t._resolvedLanguagePackCoreLocation,`${r.replace(/\//g,"!")}.nls.json`).then(function(l){const o=JSON.parse(l);e[r]=o,s(void 0,o)}).catch(l=>{try{t._corruptedFile&&d(t._corruptedFile,"corrupted").catch(function(o){console.error(o)})}finally{s(l,void 0)}})}}return t}function v(){return(typeof self=="object"?self:typeof global=="object"?global:{}).vscode}function g(){const u=v();if(u)return u.process;if(typeof process<"u")return process}function h(){const u=v();if(u)return u.ipcRenderer}async function n(...u){const t=h();if(t)return t.invoke("vscode:readNlsFile",...u);if(w&&C)return(await w.promises.readFile(C.join(...u))).toString();throw new Error("Unsupported operation (read NLS files)")}function d(u,t){const e=h();if(e)return e.invoke("vscode:writeNlsFile",u,t);if(w)return w.promises.writeFile(u,t);throw new Error("Unsupported operation (write NLS files)")}return{enableASARSupport:y,setupNLS:f,fileUriFromPath:a}})}}),require_bootstrap_amd=__commonJS({"out-build/bootstrap-amd.js"(R){"use strict";var E=require;globalThis._VSCODE_NODE_MODULES=new Proxy(Object.create(null),{get:(a,f)=>E(String(f))}),globalThis._VSCODE_PRODUCT_JSON=require("../product.json"),globalThis._VSCODE_PACKAGE_JSON=require("../package.json");var b=require_loader(),C=require_bootstrap(),w=require_performance(),y=C.setupNLS();b.config({baseUrl:C.fileUriFromPath(__dirname,{isWindows:process.platform==="win32"}),catchError:!0,nodeRequire:E,"vs/nls":y,amdModulesPattern:/^vs\//,recordStats:!0}),(process.env.ELECTRON_RUN_AS_NODE||process.versions.electron)&&b.define("fs",["original-fs"],function(a){return a}),y&&y.pseudo&&b(["vs/nls"],function(a){a.setPseudoTranslation(!!y.pseudo)}),R.load=function(a,f,v){!a||(process.env.VSCODE_CODE_CACHE_PATH&&b.config({nodeCachedData:{path:process.env.VSCODE_CODE_CACHE_PATH,seed:a}}),f=f||function(){},v=v||function(g){console.error(g)},w.mark("code/fork/willLoadCode"),b([a],f,v))}}}),perf=require_performance(),performance2=require("perf_hooks").performance,product=require("../product.json"),readline=require("readline"),http=require("http");perf.mark("code/server/start"),global.vscodeServerStartTime=performance2.now();async function start(){const E=require("minimist")(process.argv.slice(2),{boolean:["start-server","list-extensions","print-ip-address","help","version","accept-server-license-terms"],string:["install-extension","install-builtin-extension","uninstall-extension","locate-extension","socket-path","host","port","compatibility"],alias:{help:"h",version:"v"}});["host","port","accept-server-license-terms"].forEach(r=>{if(!E[r]){const i=process.env[`VSCODE_SERVER_${r.toUpperCase().replace("-","_")}`];i&&(E[r]=i)}});const b=["list-extensions","locate-extension"],C=["install-extension","install-builtin-extension","uninstall-extension"];if(E.help||E.version||b.some(r=>!!E[r])||C.some(r=>!!E[r])&&!E["start-server"]){loadCode().then(r=>{r.spawnCli()});return}E.compatibility==="1.63"&&(console.warn(`server.sh is being replaced by 'bin/${product.serverApplicationName}'. Please migrate to the new command and adopt the following new default behaviors:`),console.warn("* connection token is mandatory unless --without-connection-token is used"),console.warn("* host defaults to `localhost`"));let y=null,a=null;const f=()=>(a||(a=loadCode().then(async r=>{const i=await r.createServer(d);return y=i,i})),a),v=require("http"),g=require("os");if(Array.isArray(product.serverLicense)&&product.serverLicense.length&&(console.log(product.serverLicense.join(`
`)),product.serverLicensePrompt&&E["accept-server-license-terms"]!==!0)){hasStdinWithoutTty()&&(console.log("To accept the license terms, start the server with --accept-server-license-terms"),process.exit(1));try{await prompt(product.serverLicensePrompt)||process.exit(1)}catch(r){console.log(r),process.exit(1)}}let h=!0,n=!0,d=null;const u=v.createServer(async(r,i)=>(h&&(h=!1,perf.mark("code/server/firstRequest")),(await f()).handleRequest(r,i)));u.on("upgrade",async(r,i)=>(n&&(n=!1,perf.mark("code/server/firstWebSocket")),(await f()).handleUpgrade(r,i))),u.on("error",async r=>(await f()).handleServerError(r));const t=sanitizeStringArg(E.host)||(E.compatibility!=="1.63"?"localhost":void 0),e=E["socket-path"]?{path:sanitizeStringArg(E["socket-path"])}:{host:t,port:await parsePort(t,sanitizeStringArg(E.port))};u.listen(e,async()=>{let r=Array.isArray(product.serverGreeting)&&product.serverGreeting.length?`

${product.serverGreeting.join(`
`)}

`:"";if(typeof e.port=="number"&&E["print-ip-address"]){const i=g.networkInterfaces();Object.keys(i).forEach(function(s){i[s]?.forEach(function(c){!c.internal&&c.family==="IPv4"&&(r+=`IP Address: ${c.address}
`)})})}if(d=u.address(),d===null)throw new Error("Unexpected server address");r+=`Server bound to ${typeof d=="string"?d:`${d.address}:${d.port} (${d.family})`}
`,r+=`Extension host agent listening on ${typeof d=="string"?d:d.port}
`,console.log(r),perf.mark("code/server/started"),global.vscodeServerListenTime=performance2.now(),await f()}),process.on("exit",()=>{u.close(),y&&y.dispose()})}function sanitizeStringArg(R){return Array.isArray(R)&&(R=R.pop()),typeof R=="string"?R:void 0}async function parsePort(R,E){if(E){let b;if(E.match(/^\d+$/))return parseInt(E,10);if(b=parseRange(E)){const C=await findFreePort(R,b.start,b.end);if(C!==void 0)return C;console.warn(`--port: Could not find free port in range: ${b.start} - ${b.end} (inclusive).`),process.exit(1)}else console.warn(`--port "${E}" is not a valid number or range. Ranges must be in the form 'from-to' with 'from' an integer larger than 0 and not larger than 'end'.`),process.exit(1)}return 8e3}function parseRange(R){const E=R.match(/^(\d+)-(\d+)$/);if(E){const b=parseInt(E[1],10),C=parseInt(E[2],10);if(b>0&&b<=C&&C<=65535)return{start:b,end:C}}}async function findFreePort(R,E,b){const C=w=>new Promise(y=>{const a=http.createServer();a.listen(w,R,()=>{a.close(),y(!0)}).on("error",()=>{y(!1)})});for(let w=E;w<=b;w++)if(await C(w))return w}function loadCode(){return new Promise((R,E)=>{const b=require("path");delete process.env.ELECTRON_RUN_AS_NODE,process.env.VSCODE_HANDLES_SIGPIPE="true",process.env.VSCODE_DEV?(process.env.VSCODE_INJECT_NODE_MODULE_LOOKUP_PATH=process.env.VSCODE_INJECT_NODE_MODULE_LOOKUP_PATH||b.join(__dirname,"..","remote","node_modules"),require_bootstrap_node().injectNodeModuleLookupPath(process.env.VSCODE_INJECT_NODE_MODULE_LOOKUP_PATH)):delete process.env.VSCODE_INJECT_NODE_MODULE_LOOKUP_PATH,require_bootstrap_amd().load("vs/server/node/server.main",R,E)})}function hasStdinWithoutTty(){try{return!process.stdin.isTTY}catch{}return!1}function prompt(R){const E=readline.createInterface({input:process.stdin,output:process.stdout});return new Promise((b,C)=>{E.question(R+" ",async function(w){E.close();const y=w.toString().trim().toLowerCase();y===""||y==="y"||y==="yes"?b(!0):y==="n"||y==="no"?b(!1):(process.stdout.write(`
Invalid Response. Answer either yes (y, yes) or no (n, no)
`),b(await prompt(R)))})})}start();

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/7f329fe6c66b0f86ae1574c2911b681ad5a45d63/core/server-main.js.map
